{"version":3,"sources":["components/MapBox/images/panel.jpg","components/MapBox/images/pin.png","images/cursor.cur","components/MapBox/images/arrow.png","constants.txt","images/Shingles.png","images/ClayTerracota.png","images/ConcreteTiles.png","images/Other.png","images/Pitched.png","images/Flat.png","images/LG RESU10H.png","images/Enphase Encharge 10.png","images/Tesla - Powerwall 2.png","images/battery_none.png","pages/ShowPanelsPage/panel.jpg","images/delete.png","images/add.png","images/Cash.png","images/Finance.png","constants.js","redux/reducers/mapbox.js","redux/reducers/window.js","redux/reducers/steps.js","redux/reducers/index.js","redux/actionTypes.js","redux/store.js","history.js","ErrorBoundary.js","flexible-polyline.js","redux/actions.js","components/MapBox/MapBox.js","components/Modal/Modal.js","components/CircleChart/CircleChart.js","components/Form/Form.js","pages/SetYourPanelsPage/SetYourPanelsPage.js","pages/ShowPanelsPage/ShowPanelsPage.js","App.js","index.js"],"names":["module","exports","NREL_API_KEY","START_POINTS","id","name","value","latitude","longitude","MAPBOX","API_TOKEN","VIEWPORT","width","height","zoom","mapStyle","CA","MODES","PIN","CONFIRM","CHANGE","DRAW_TOOL","DRAW","EDIT","ACTION","DELETE","ROTATE","initialState","mapboxRef","startRegion","isMapboxReady","geocodeResult","boundaryGeojson","viewport","constants","currentStep","errorMessage","helpMessage","leadData","AddressStreet","AddressCity","AddressZip","AverageBill","Coordinates","FirstName","InverterType","KWhNeeded","LastName","Number","PanelsCount","PanelsGeometry","PanelsPosition","PanelsType","PaymentType","Policy","RoofMaterial","RoofTilt","Email","list","title","isActive","isFinished","params","mode","data","selectedFeatureIndex","action","panelsPosition","panelsData","inverterType","combineReducers","mapbox","state","type","payload","geojson","ref","result","window","steps","error","stepIndex","_","map","step","index","options","pvwatts","key","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","rootReducer","applyMiddleware","thunk","createBrowserHistory","ErrorBoundary","hasError","errorInfo","this","setState","props","children","React","Component","BigInt","mapboxViewportChange","changeWindowSize","setActiveStep","setStepMode","setStepParams","setStepData","addLeadData","setMapboxRef","setErrorMessage","setHelpMessage","getAddressValueByType","address","find","comp","types","indexOf","long_name","getMonthlyPayment","principal","rate","months","payment","interest","Math","pow","getProposalUrlParams","BatteryType","KWhProduced","kw","watt","system_size","cost_PPW","panel_cost","adder","totalPrice","p1_y_7","p1_y_12","p1_y_15","p1_y_20","p2_y_10","p2_y_15","p2_y_20","p2_y_25","p3","getRoundedValue","round","toString","replace","proposalParams","trunc","toFixed","url_params","_boundaryGeojson","connect","stepsList","mapboxReady","getPVWatts","coords","system_capacity","module_type","losses","array_type","tilt","azimuth","inv_eff","panels_count","pvwattsList","dispatch","isPanelsDataLoading","fetch","lat","lon","then","response","json","outputs","setPVWattsData","panels_kWh","ac_annual","catch","message","String","deletePVWatts","newList","filter","o","_map","useRef","mapboxApiAccessToken","useState","marker","setMarker","useEffect","JSON","stringify","roofDrawed","setRoofDrawed","isShowHelpMessages","setIsShowHelpMessages","features","editorData","setEditorData","setPanelsData","newPanelData","setNewPanelData","_bearingLines","setBearingLines","_selectedLines","setSelectedLines","selectedLineFeatureIndex","setSelectedLineFeatureIndex","_rotatePoints","setRotatePoints","_PVWattsQueries","setPVWattsQueries","_panelsHovering","setPanelsHovering","_deletedPanels","setDeletedPanels","selectedPanels","setSelectedPanels","selectedPanelsUpdateTrigger","setSelectedPanelsUpdateTrigger","cachedPanelPosition","setCachedPanelPosition","selectedPanelsIndexes","deletePanelsAction","current_panelsData","f","findIndex","editorFeatureUpdate","updatedData","editType","newPanelsData","debouncedPVWatts","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","length","query","resultBBox","geometry","bbox","northeast","lng","southwest","flyToProps","current","getMap","cameraForBounds","padding","top","bottom","left","right","center","setMarkerPosition","bboxArray","turf","updateViewport","transitionDuration","transitionInterpolator","FlyToInterpolator","getRotatePoints","lines","roofTilt","editContext","featureIndexes","_doDelete","isDeletedPanel","panel","undefined","delPan","isEqual","featureIndex","newEditorData","feature","properties","line","getBearingLines","polygon","selectedLine","prevCoord","allLines","newSelectedLine","coordinates","coord","lineLength","lineBearing","azimuthAngle","centroid","polygonKey","bearing","push","points","getPolygonBbox","polygonCenter","circleForBbox","longestEdgeLength","edge","edgeLength","getLongestEdge","isPolygonContainsPanels","panels","i","solarPanelsAll","PVWattsQueries","existedData","featureKey","bearingLines","polygonBbox","filteredGrid","panelsParams","tiltedWidth","cos","PI","squareGrid","rectangleGrid","rotatedSquareGrid","pivot","new_f","translateLength","translated_filteredGrid","panelsIsPlaced","PVWattsQuery","getSolarPanels","panelsGeometryCollection","filteredAllPanels","el","directionPoint","selected","mergedPanels","directionIsSelected","messageTypeStr","buttonText","_onClick","event","target","nodeName","layer","addPanelsAction","object","panelCopy","panelCopy_placed","j","isPanelIntersected","current_selectedPanels","lngLat","editorLayerProps","onEdit","_subLayerProps","getLineColor","getFillColor","editorLayer","EditableGeoJsonLayer","DrawPolygonMode","selectedFeatureIndexes","modifyLayer","pickingRadius","ModifyMode","viewRoofLayer","ViewMode","translateLayer","isPanelsIntersectedBool","inexes","isPanelsIntersected","roofs","isRoofContainsPanels","TranslateMode","onClick","info","e","searched_current_selectedPanels","new_current_selectedPanels","splice","meshAddPanelLayer","SimpleMeshLayer","pickable","getOrientation","d","line1","line2","longestSide","centerOfSide","getPosition","getColor","getScale","texture","panelPatternImg","mesh","PlaneGeometry","xlen","ylen","nx","nz","offset","meshLayer","panelsLayer","PolygonLayer","_normalize","stroked","filled","getPolygon","autoHighlight","highlightColor","getLineWidth","lineWidthMinPixels","lineWidthMaxPixels","lineWidthScale","lineWidthUnits","updateTriggers","arrowsLayer","IconLayer","iconAtlas","arrowImg","iconMapping","x","y","mask","anchorY","getIcon","sizeUnits","getSize","sizeMaxPixels","getAngle","sizeMinPixels","color","onViewportChange","onLoad","minZoom","onMouseMove","dragPan","initialViewState","controller","MapController","dragRotate","layers","getTooltip","getCursor","cursor","isDragging","cursorImg","closeButton","closeOnClick","captureClick","anchor","className","Button","offsetLeft","offsetTop","draggable","onDragEnd","src","pinImg","paint","style","zIndex","showCompass","isOpen","size","titleText","show","setShow","Modal","aria-labelledby","centered","onHide","backdrop","keyboard","Header","Title","Body","CircleChart","barObj","progress","ProgressBar","Circle","strokeWidth","trailWidth","easing","duration","text","autoStyleContainer","fill","from","to","circle","path","setAttribute","strokeDashoffset","setText","fontFamily","fontSize","needed","produced","animate","currentStepData","useForm","defaultValues","register","errors","handleSubmit","toogleInput","$","removeClass","obj","addClass","Form","onSubmit","Row","Group","as","Col","controlId","Label","Control","onInput","required","maxLength","placeholder","pattern","variant","UtilityRate","utilityData","kWh_year","Spinner","animation","SetYourPanelsPage","changeWindowSizeState","on","addressQuery","URLSearchParams","location","search","get","geocodeAddress","getConstantData","array","sum","val","errorConfirm","Object","keys","arraySum","isLoading","OverlayTrigger","placement","overlay","Popover","Content","DropdownButton","PANELS","Dropdown","Item","active","INVERTERS","inveter","href","setStartRegion","InputGroup","Prepend","Text","FormControl","averageBill","onChange","disabled","getUtilityRate","checked","roofMaterial","roofShinglesImg","htmlFor","roofClayImg","roofConcreteImg","roofOtherImg","roofPitchedImg","roofFlatImg","showFinishMessage","batteryType","batteryLGImg","batteryEnphaseImg","batteryTeslaImg","batteryNoneImg","pushLeadCRM","utility_rate","kWh_month","residential","formData","FormData","append","localStorage","setItem","method","body","redirectUrl","results","console","log","address_components","setGeocodeResult","status","error_message","getJSON","constantData","setConstantData","panelsGeometry","parse","getItem","setMapboxReady","scrollZoom","App","exact","component","ShowPanelsPage","rootElement","document","getElementById","ReactDOM","render","store","history"],"mappings":"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AAG,kBAAmB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,iBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,iBAAoB,mBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,kBAAmB,mBAAqB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,iBAAoB,mBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,iBAAoB,mBAAqB,EAAG,iBAAoB,oBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,iBAAoB,mBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,iBAAoB,oBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,kBAAoB,oBAAsB,EAAG,iBAAoB,mBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAmB,mBAAqB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAmB,mBAAqB,EAAG,kBAAoB,oBAAsB,EAAG,gBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,gBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAmB,mBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,mBAAqB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,iBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG,kBAAoB,oBAAsB,EAAG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","file":"static/js/main.855aa399.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/panel.fb6d01db.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pin.2d351f36.png\";","module.exports = __webpack_public_path__ + \"static/media/cursor.b377945b.cur\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI8SURBVHic7ds9a1MBGMXxX1oHxUGqU10Lujk4FdHSxdVFu7roJxCs1M8gDjrrUmcXv4EgOino3E6KUFCxqFUM0SG9g31JcpP73Odi7oH/0pZyzklKz5O05KiDNXzAe6zufmxqdA9/9vAg1VGNumt/+ILbib5q0XX0HF5ADzfS3AXrCn47PHxBF1eTPIZpGTuGhy/YwVKG0Qidwxejhy/4ivMJfivVAj4qH75gC2dqd12RTmPT+OELNjBfs/eJdQJvTB6+4C3mak0wgY7huerCF7zE8RpzjKVZPFV9+IJnOFJbmpLq4LG48AXrGno3HLTvo2jc3bCmvvAFq7UkG0HD9n0UjbgbRt33UaTeDcvK7fsofuFybNT9GnffR1Hr3TDpvo9iC2cDc6O6fR9F6N1Q9b6P4p2AuyFq30dR6d0Qve+jqORu6OBRA8KMyzpmJimgzn0fxcNxw2fs+yjulA2fte+j6OHmqOGz930UXVwbFn5ZM/Z9FAPvhqbt+ygOvBuauu+j+OdumNfsfR/FBuZn8QSLpk9zWOjgh/7Wn0Z9n9F/KkyrNun/6tuW/zNZN9tYKt5gOIULODqgrUXcGtJoU3QfrwZ8/ide4HOZb7oi/1EblZVRQ010Kv4PagvINpCttoBsA9lqC8g2kK22gGwD2WoLyDaQrbaAbAPZagvINpCttoBsA9lqC8g2kK22gGwD2WoLKPG138JcVK8Qryf130jIfs1/GJ8E/oPVJbzW/3OT7KB76e56u1gm0F/ZEvWw1AuA0wAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/constants.09115775.txt\";","module.exports = __webpack_public_path__ + \"static/media/Shingles.b8faa32f.png\";","module.exports = __webpack_public_path__ + \"static/media/ClayTerracota.63b03d7c.png\";","module.exports = __webpack_public_path__ + \"static/media/ConcreteTiles.525e92b5.png\";","module.exports = __webpack_public_path__ + \"static/media/Other.e104a3df.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/LG RESU10H.58ccb2b9.png\";","module.exports = __webpack_public_path__ + \"static/media/Enphase Encharge 10.17598dd0.png\";","module.exports = __webpack_public_path__ + \"static/media/Tesla - Powerwall 2.5f18c9c1.png\";","module.exports = __webpack_public_path__ + \"static/media/battery_none.60f5c3cb.png\";","module.exports = __webpack_public_path__ + \"static/media/panel.fb6d01db.jpg\";","module.exports = __webpack_public_path__ + \"static/media/delete.103cb458.png\";","module.exports = __webpack_public_path__ + \"static/media/add.28673088.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import wNumb from \"wnumb\";\n//import { EditingMode, DrawPolygonMode, RotateMode } from 'react-map-gl-draw';\nimport { DrawPolygonMode, ModifyMode } from 'nebula.gl';\n\nexport const NREL_API_KEY = \"8t2Z4fTtGsBdgULgJZarosSPH6RqlxZcitx6Nize\";\n\nexport const GOOGLE_API_KEY = \"AIzaSyA22qWTpz78f-LkMn43FyYIltBHVUMRD-I\";\n\nexport const START_POINTS = {\n\t\"CA\": {\n\t\tid: \"CA\",\n\t\tname: \"California\",\n\t\tvalue: {\n\t\t\tlatitude: 33.807,\n\t\t\tlongitude: -118.210,\n\t\t}\n\t},\n\t\"FL\": {\n\t\tid: \"FL\",\n\t\tname: \"Florida\",\n\t\tvalue: {\n\t\t\tlatitude: 25.877,\n\t\t\tlongitude: -80.324,\n\t\t}\n\t}\n};\n\nexport const MAPBOX = {\n\tAPI_TOKEN: 'pk.eyJ1IjoiZG9uaW5wciIsImEiOiJjaXVxM3E4OTkwMDAwMm9wczBnYjR4bnJoIn0.7drt92qBRl7KJ6dLg0mrww',\n\tVIEWPORT: {\n\t\twidth: '100%',\n\t\theight: '100vh',\n\t\tzoom: 7.5,\n\t\tmapStyle: 'mapbox://styles/doninpr/ckgs52gme0sbi19p735yya0x5',\n\t\t...START_POINTS.CA.value,\n\t}\n}\n\nexport const GOOGLE = {\n\tAPI_KEY: 'AIzaSyAMBGodouokahvZs1kJpELFwZ_rHMcG108',\n};\n\nexport const MODES = {\n\tPIN: {\n\t\tCONFIRM: { id: 'CONFIRM' },\n\t\tCHANGE: { id: 'CHANGE' },\n\t},\n\tDRAW_TOOL: {\n\t\tDRAW: { id: 'DRAW' },\n\t\tEDIT: { id: 'EDIT' },\n\t},\n\tACTION: {\n\t\tDELETE: { id: 'DELETE' },\n\t\tROTATE: { id: 'ROTATE' },\n\t}\n}","import { MAPBOX_READY, RESIZE_WINDOW, MAPBOX_VIEWPORT_CHANGE, SET_MAPBOX_REF, GEOCODE_RESULT, SET_BOUNDARY_GEOJSON, SET_START_REGION } from \"../actionTypes\";\nimport { MAPBOX, START_POINTS } from \"../../constants\";\n\nconst initialState = {\n  mapboxRef: null,\n  startRegion: START_POINTS.CA.id,\n  isMapboxReady: false,\n  geocodeResult: null,\n  boundaryGeojson: null,\n  viewport: {\n    ...MAPBOX.VIEWPORT,\n  }\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_BOUNDARY_GEOJSON: {\n      return {\n        ...state,\n        boundaryGeojson: action.payload.geojson,\n      };\n    }\n    case SET_START_REGION: {\n      return {\n        ...state,\n        startRegion: action.payload.id,\n      };\n    }\n    case MAPBOX_READY: {\n      return {\n        ...state,\n        isMapboxReady: true,\n      };\n    }\n    case RESIZE_WINDOW: {\n      return {\n        ...state,\n        viewport: {\n          ...state.viewport,\n          width: action.payload.width,\n          height: action.payload.height,\n        }\n      };\n    }\n    case MAPBOX_VIEWPORT_CHANGE: {\n      return {\n        ...state,\n        viewport: {\n          ...state.viewport,\n          ...action.payload.viewport,\n        }\n      };\n    }\n    case SET_MAPBOX_REF: {\n      return {\n        ...state,\n        mapboxRef: action.payload.ref,\n      };\n    }\n    case GEOCODE_RESULT: {\n      return {\n        ...state,\n        geocodeResult: action.payload.result,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { RESIZE_WINDOW, SET_CONSTANT_DATA } from \"../actionTypes\";\n\nconst initialState = {\n  width: 0,\n  height: 0,\n  constants: {\n    \"PANELS\": {},\n    \"INVERTERS\": {},\n  }\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case RESIZE_WINDOW: {\n      return {\n        ...state,\n        width: action.payload.width,\n        height: action.payload.height,\n      };\n    }\n    case SET_CONSTANT_DATA: {\n      return {\n        ...state,\n        constants: action.payload.data,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import {\n  SET_ACTIVE_STEP,\n  SET_STEP_MODE,\n  SET_STEP_PARAMS,\n  SET_STEP_DATA,\n  SET_PVWATTS_DATA,\n  SET_LEAD_DATA,\n  SET_ERROR_MESSAGE,\n  ERROR_CONFIRM,\n  SET_HELP_MESSAGE,\n} from \"../actionTypes\";\nimport _ from \"lodash\";\n\nconst initialState = {\n  currentStep: 0,\n  errorMessage: null,\n  helpMessage: null,\n  leadData: {\n    AddressStreet: \"none\",\n    AddressCity: \"none\",\n    AddressZip: \"none\",\n    AverageBill: \"none\",\n    Coordinates: \"none\",\n    FirstName: \"none\",\n    InverterType: \"none\",\n    KWhNeeded: \"none\",\n    LastName: \"none\",\n    Number: \"none\",\n    PanelsCount: \"none\",\n    PanelsGeometry: \"none\",\n    PanelsPosition: \"Horizontal\",\n    PanelsType: \"none\",\n    PaymentType: \"none\",\n    Policy: \"none\",\n    RoofMaterial: \"none\",\n    RoofTilt: \"none\",\n    Email: \"none\"\n  },\n  list: [\n    {\n      id: 0,\n      title: \"Select your property\",\n      isActive: true,\n      isFinished: false,\n      params: {\n        mode: \"CONFIRM\",\n      },\n      data: {},\n    },\n    {\n      id: 1,\n      title: \"Select average bill\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 2,\n      title: \"Select roof material\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 3,\n      title: \"Select roof tilt\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 4,\n      title: \"Watch video tutorial\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 5,\n      title: \"Placing solar panels\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n        selectedFeatureIndex: null,\n        action: null,\n      },\n      data: {\n        panelsPosition: \"Horizontal\",\n        panelsData: null,\n        inverterType: null,\n      },\n    },\n    {\n      id: 6,\n      title: \"Confirm panels placement\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 7,\n      title: \"Personal info\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 8,\n      title: \"Do you want to add a battery?\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    },\n    {\n      id: 9,\n      title: \"Select payment method\",\n      isActive: false,\n      isFinished: false,\n      params: {\n        mode: null,\n      },\n      data: {},\n    }\n  ]\n};\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case SET_ERROR_MESSAGE: {\n      return {\n        ...state,\n        errorMessage: action.payload.error,\n      };\n    }\n    case SET_HELP_MESSAGE: {\n      return {\n        ...state,\n        helpMessage: action.payload.params,\n      };\n    }\n    case ERROR_CONFIRM: {\n      return {\n        ...state,\n        errorMessage: null,\n      };\n    }\n    case SET_LEAD_DATA: {\n      return {\n        ...state,\n        leadData: {\n          ...state.leadData,\n          ...action.payload.data,\n        }\n      };\n    }\n    case SET_ACTIVE_STEP: {\n      return {\n        ...state,\n        currentStep: action.payload.stepIndex,\n        list: _.map(state.list, (step, index) => {\n            return action.payload.stepIndex === index ? { ...step, isActive: true } : { ...step, isFinished: (step.isActive ? action.payload.options.isFinished : step.isFinished), isActive: false };\n          }),\n      };\n    }\n    case SET_STEP_MODE: {\n      return {\n        ...state,\n        list: _.map(state.list, (step, index) => {\n            if(action.payload.stepIndex === index){\n              return {\n                ...step,\n                params: {\n                  ...step.params,\n                  mode: action.payload.mode,\n                }\n              };\n            } else {\n              return step;\n            }\n          }),\n      };\n    }\n    case SET_STEP_PARAMS: {\n      return {\n        ...state,\n        list: _.map(state.list, (step, index) => {\n            if(action.payload.stepIndex === index){\n              return {\n                ...step,\n                params: {\n                  ...step.params,\n                  ...action.payload.params,\n                }\n              };\n            } else {\n              return step;\n            }\n          }),\n      };\n    }\n    case SET_STEP_DATA: {\n      return {\n        ...state,\n        list: _.map(state.list, (step, index) => {\n            if(action.payload.stepIndex === index){\n              return {\n                ...step,\n                data: {\n                  ...step.data,\n                  ...action.payload.data,\n                }\n              };\n            } else {\n              return step;\n            }\n          }),\n      };\n    }\n    case SET_PVWATTS_DATA: {\n      return {\n        ...state,\n        list: _.map(state.list, (step, index) => {\n            if(action.payload.stepIndex === index){\n              return {\n                ...step,\n                data: {\n                  ...step.data,\n                  pvwatts: {\n                    ...step.data.pvwatts,\n                    [action.payload.data.key]: { ...action.payload.data }\n                  }\n                }\n              };\n            } else {\n              return step;\n            }\n          }),\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport mapbox from \"./mapbox\";\nimport window from \"./window\";\nimport steps from \"./steps\";\n\n\nexport default combineReducers({\n\tmapbox,\n\twindow,\n\tsteps,\n});\n","export const MAPBOX_READY = \"MAPBOX_READY\";\nexport const RESIZE_WINDOW = \"RESIZE_WINDOW\";\nexport const MAPBOX_VIEWPORT_CHANGE = \"MAPBOX_VIEWPORT_CHANGE\";\nexport const SET_ACTIVE_STEP = \"SET_ACTIVE_STEP\";\nexport const SET_STEP_MODE = \"SET_STEP_MODE\";\nexport const SET_STEP_PARAMS = \"SET_STEP_PARAMS\";\nexport const SET_STEP_DATA = \"SET_STEP_DATA\";\nexport const SET_PVWATTS_DATA = \"SET_PVWATTS_DATA\";\nexport const SET_LEAD_DATA = \"SET_LEAD_DATA\";\nexport const SET_MAPBOX_REF = \"SET_MAPBOX_REF\";\nexport const GEOCODE_RESULT = \"GEOCODE_RESULT\";\nexport const SET_ERROR_MESSAGE = \"SET_ERROR_MESSAGE\";\nexport const ERROR_CONFIRM = \"ERROR_CONFIRM\";\nexport const SET_BOUNDARY_GEOJSON = \"SET_BOUNDARY_GEOJSON\";\nexport const SET_START_REGION = \"SET_START_REGION\";\nexport const SET_CONSTANT_DATA = \"SET_CONSTANT_DATA\";\nexport const SET_HELP_MESSAGE = \"SET_HELP_MESSAGE\";","import { createStore, compose, applyMiddleware } from \"redux\";\nimport rootReducer from \"./reducers\";\nimport thunk from 'redux-thunk';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default createStore(\n\trootReducer,\n\tcomposeEnhancer(applyMiddleware(thunk)),\n);\n","import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory({\n  /* pass a configuration object here if needed */\n})","import React from \"react\";\nimport fetch from 'cross-fetch';\n\nclass ErrorBoundary extends React.Component {\n  state = {\n    hasError: false,\n    errorMessage: null,\n    errorInfo: null,\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({ hasError: true, errorMessage: error, errorInfo: errorInfo });\n    //setTimeout(() => window.location.reload(), 500);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div id=\"errorBlock\">\n          <h4>An error has occurred!<br />The page is reloading...</h4>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n};\n\nexport default ErrorBoundary;","/*\n * Copyright (C) 2019 HERE Europe B.V.\n * Licensed under MIT, see full license in LICENSE\n * SPDX-License-Identifier: MIT\n * License-Filename: LICENSE\n */\n\n /* global BigInt */\n \nconst DEFAULT_PRECISION = 5;\n\nconst ENCODING_TABLE = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\nconst DECODING_TABLE = [\n    62, -1, -1, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1,\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,\n    22, 23, 24, 25, -1, -1, -1, -1, 63, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n    36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\n];\n\nconst FORMAT_VERSION = 1;\n\nconst ABSENT = 0;\nconst LEVEL = 1;\nconst ALTITUDE = 2;\nconst ELEVATION = 3;\n// Reserved values 4 and 5 should not be selectable\nconst CUSTOM1 = 6;\nconst CUSTOM2 = 7;\n\nconst Num = typeof BigInt !== \"undefined\" ? BigInt : Number;\n\nfunction decode(encoded) {\n    const decoder = decodeUnsignedValues(encoded);\n    const header = decodeHeader(decoder[0], decoder[1]);\n\n    const factorDegree = 10 ** header.precision;\n    const factorZ = 10 ** header.thirdDimPrecision;\n    const { thirdDim } = header;\n\n    let lastLat = 0;\n    let lastLng = 0;\n    let lastZ = 0;\n    const res = [];\n\n    let i = 2;\n    for (;i < decoder.length;) {\n        const deltaLat = toSigned(decoder[i]) / factorDegree;\n        const deltaLng = toSigned(decoder[i + 1]) / factorDegree;\n        lastLat += deltaLat;\n        lastLng += deltaLng;\n\n        if (thirdDim) {\n            const deltaZ = toSigned(decoder[i + 2]) / factorZ;\n            lastZ += deltaZ;\n            res.push([lastLat, lastLng, lastZ]);\n            i += 3;\n        } else {\n            res.push([lastLat, lastLng]);\n            i += 2;\n        }\n    }\n\n    if (i !== decoder.length) {\n        throw new Error('Invalid encoding. Premature ending reached');\n    }\n\n    return {\n        ...header,\n        polyline: res,\n    };\n}\n\nfunction decodeChar(char) {\n    const charCode = char.charCodeAt(0);\n    return DECODING_TABLE[charCode - 45];\n}\n\nfunction decodeUnsignedValues(encoded) {\n    let result = Num(0);\n    let shift = Num(0);\n    const resList = [];\n\n    encoded.split('').forEach((char) => {\n        const value = Num(decodeChar(char));\n        result |= (value & Num(0x1F)) << shift;\n        if ((value & Num(0x20)) === Num(0)) {\n            resList.push(result);\n            result = Num(0);\n            shift = Num(0);\n        } else {\n            shift += Num(5);\n        }\n    });\n\n    if (shift > 0) {\n        throw new Error('Invalid encoding');\n    }\n\n    return resList;\n}\n\nfunction decodeHeader(version, encodedHeader) {\n    if (+version.toString() !== FORMAT_VERSION) {\n        throw new Error('Invalid format version');\n    }\n    const headerNumber = +encodedHeader.toString();\n    const precision = headerNumber & 15;\n    const thirdDim = (headerNumber >> 4) & 7;\n    const thirdDimPrecision = (headerNumber >> 7) & 15;\n    return { precision, thirdDim, thirdDimPrecision };\n}\n\nfunction toSigned(val) {\n    // Decode the sign from an unsigned value\n    let res = val;\n    if (res & Num(1)) {\n        res = ~res;\n    }\n    res >>= Num(1);\n    return +res.toString();\n}\n\nfunction encode({ precision = DEFAULT_PRECISION, thirdDim = ABSENT, thirdDimPrecision = 0, polyline }) {\n    // Encode a sequence of lat,lng or lat,lng(,{third_dim}). Note that values should be of type BigNumber\n    //   `precision`: how many decimal digits of precision to store the latitude and longitude.\n    //   `third_dim`: type of the third dimension if present in the input.\n    //   `third_dim_precision`: how many decimal digits of precision to store the third dimension.\n\n    const multiplierDegree = 10 ** precision;\n    const multiplierZ = 10 ** thirdDimPrecision;\n    const encodedHeaderList = encodeHeader(precision, thirdDim, thirdDimPrecision);\n    const encodedCoords = [];\n\n    let lastLat = Num(0);\n    let lastLng = Num(0);\n    let lastZ = Num(0);\n    polyline.forEach((location) => {\n       const lat = Num(Math.round(location[0] * multiplierDegree));\n       encodedCoords.push(encodeScaledValue(lat - lastLat));\n       lastLat = lat;\n\n       const lng = Num(Math.round(location[1] * multiplierDegree));\n       encodedCoords.push(encodeScaledValue(lng - lastLng));\n       lastLng = lng;\n\n       if (thirdDim) {\n           const z = Num(Math.round(location[2] * multiplierZ));\n           encodedCoords.push(encodeScaledValue(z - lastZ));\n           lastZ = z;\n       }\n    });\n\n    return [...encodedHeaderList, ...encodedCoords].join('');\n}\n\nfunction encodeHeader(precision, thirdDim, thirdDimPrecision) {\n    // Encode the `precision`, `third_dim` and `third_dim_precision` into one encoded char\n    if (precision < 0 || precision > 15) {\n        throw new Error('precision out of range. Should be between 0 and 15');\n    }\n    if (thirdDimPrecision < 0 || thirdDimPrecision > 15) {\n        throw new Error('thirdDimPrecision out of range. Should be between 0 and 15');\n    }\n    if (thirdDim < 0 || thirdDim > 7 || thirdDim === 4 || thirdDim === 5) {\n        throw new Error('thirdDim should be between 0, 1, 2, 3, 6 or 7');\n    }\n\n    const res = (thirdDimPrecision << 7) | (thirdDim << 4) | precision;\n    return encodeUnsignedNumber(FORMAT_VERSION) + encodeUnsignedNumber(res);\n}\n\nfunction encodeUnsignedNumber(val) {\n    // Uses variable integer encoding to encode an unsigned integer. Returns the encoded string.\n    let res = '';\n    let numVal = Num(val);\n    while (numVal > 0x1F) {\n        const pos = (numVal & Num(0x1F)) | Num(0x20);\n        res += ENCODING_TABLE[pos];\n        numVal >>= Num(5);\n    }\n    return res + ENCODING_TABLE[numVal];\n}\n\nfunction encodeScaledValue(value) {\n    // Transform a integer `value` into a variable length sequence of characters.\n    //   `appender` is a callable where the produced chars will land to\n    let numVal = Num(value);\n    const negative = numVal < 0;\n    numVal <<= Num(1);\n    if (negative) {\n        numVal = ~numVal;\n    }\n\n    return encodeUnsignedNumber(numVal);\n}\n\nexport default {\n    encode,\n    decode,\n\n    ABSENT,\n    LEVEL,\n    ALTITUDE,\n    ELEVATION,\n};\n","import {\n  MAPBOX_READY,\n  RESIZE_WINDOW,\n  MAPBOX_VIEWPORT_CHANGE,\n  SET_ACTIVE_STEP,\n  SET_STEP_MODE,\n  SET_STEP_PARAMS,\n  SET_STEP_DATA,\n  SET_PVWATTS_DATA,\n  GEOCODE_RESULT,\n  SET_MAPBOX_REF,\n  SET_LEAD_DATA,\n  SET_ERROR_MESSAGE,\n  SET_BOUNDARY_GEOJSON,\n  SET_START_REGION,\n  ERROR_CONFIRM,\n  SET_CONSTANT_DATA,\n  SET_HELP_MESSAGE,\n} from \"./actionTypes\";\nimport fetch from 'cross-fetch';\nimport ApolloClient from 'apollo-boost';\nimport * as turf from '@turf/turf';\nimport { gql } from \"apollo-boost\";\nimport _ from \"lodash\";\nimport { NREL_API_KEY, GOOGLE_API_KEY, MODES } from \"../constants\";\nimport constantData from '../constants.txt';\nimport polylineDecode from '../flexible-polyline';\nimport $ from \"jquery\";\n\nexport const mapboxReady = () => ({\n  type: MAPBOX_READY,\n  payload: {}\n});\n\nexport const mapboxViewportChange = (viewport) => ({\n  type: MAPBOX_VIEWPORT_CHANGE,\n  payload: {\n    viewport\n  }\n});\n\nexport const changeWindowSize = (width, height) => ({\n  type: RESIZE_WINDOW,\n  payload: {\n    width,\n    height\n  }\n});\n\nexport const setActiveStep = (stepIndex, options) => ({\n  type: SET_ACTIVE_STEP,\n  payload: {\n    stepIndex,\n    options: {\n      isFinished: true,\n      ...options,\n    },\n  }\n});\n\nexport const setStepMode = ({ mode, stepIndex = 5 }) => ({\n  type: SET_STEP_MODE,\n  payload: {\n    mode,\n    stepIndex,\n  }\n});\n\nexport const setStepParams = ({ params, stepIndex }) => ({\n  type: SET_STEP_PARAMS,\n  payload: {\n    stepIndex,\n    params,\n  }\n});\n\nexport const setStepData = ({ data, stepIndex }) => ({\n  type: SET_STEP_DATA,\n  payload: {\n    stepIndex,\n    data,\n  }\n});\n\nexport const setPVWattsData = ({ data, stepIndex }) => ({\n  type: SET_PVWATTS_DATA,\n  payload: {\n    stepIndex,\n    data,\n  }\n});\n\nexport const addLeadData = (data) => ({\n  type: SET_LEAD_DATA,\n  payload: {\n    data\n  }\n});\n\nexport const setMapboxRef = (ref) => ({\n  type: SET_MAPBOX_REF,\n  payload: {\n    ref\n  }\n});\n\nexport const setGeocodeResult = (result) => ({\n  type: GEOCODE_RESULT,\n  payload: {\n    result\n  }\n});\n\nexport const setErrorMessage = (error) => ({\n  type: SET_ERROR_MESSAGE,\n  payload: {\n    error\n  }\n});\n\nexport const errorConfirm = () => ({\n  type: ERROR_CONFIRM,\n  payload: {}\n});\n\nexport const setBoundaryGeojson = (geojson) => ({\n  type: SET_BOUNDARY_GEOJSON,\n  payload: {\n    geojson\n  }\n});\n\nexport const setStartRegion = (id) => ({\n  type: SET_START_REGION,\n  payload: {\n    id\n  }\n});\n\nexport const setConstantData = (data) => ({\n  type: SET_CONSTANT_DATA,\n  payload: {\n    data\n  }\n});\n\nexport const setHelpMessage = (params) => ({\n  type: SET_HELP_MESSAGE,\n  payload: {\n    params\n  }\n});\n\n\n///////////////////////\n\nexport const getConstantData = () => {\n  return dispatch => {\n    $.getJSON(constantData, function( data ) {\n      dispatch(setConstantData(data));\n    });\n  }\n};\n\nconst getAddressValueByType = ({ type, address }) => {\n  const result = _.find(address, (comp) => {\n    return comp.types.indexOf(type) !== -1;\n  });\n\n  return result && result.long_name;\n}\n\nconst getMonthlyPayment = (principal, rate, months) => {\n  var payment = 0,\n      interest = rate / 1200;\n\n  if (principal > 0 && months > 0) {\n    // Here's a pretty version of what we're doing here:\n    //\n    //                                   interest\n    // payment = principal x --------------------------------\n    //                        1 - ((1 + interest) ^ -months)\n    //\n    // found this rad formula here: http://www.hughchou.org/calc/formula.html\n    if (rate !== 0) {\n      payment = principal * (interest / (1 - Math.pow((1 + interest), -(months))));\n    } else {\n      // In case they want to calculate a payment schedule with 0% interest\n      payment = principal / months;\n    }\n  }\n  return payment;\n}\n\nexport const geocodeAddress = ({ address }) => {\n  return dispatch => {\n    fetch(\"https://maps.googleapis.com/maps/api/geocode/json?address=\" + address + \"&key=\" + GOOGLE_API_KEY)\n      .then(response => response.json())\n      .then(json => {\n        const result = json.results[0];\n\n        if(result){\n          console.log(result);\n          dispatch(addLeadData({ 'AddressStreet': getAddressValueByType({ address: result.address_components, type: \"street_number\" }) + \" \" + getAddressValueByType({ address: result.address_components, type: \"route\" }) }));\n          dispatch(addLeadData({ 'AddressCity': getAddressValueByType({ address: result.address_components, type: \"locality\" }) }));\n          dispatch(addLeadData({ 'AddressZip': getAddressValueByType({ address: result.address_components, type: \"postal_code\" }) }));\n          dispatch(setGeocodeResult(result));\n          dispatch(setStepMode({ mode: MODES.PIN.CONFIRM.id, stepIndex: 0 }));\n        } else {\n          if(json.status === \"ZERO_RESULTS\"){\n            dispatch(setErrorMessage({ error: \"Invalid address\", message: \"The entered address will not be found.\\nPlease put a pin on the map.\" }));\n            dispatch(setStepMode({ mode: MODES.PIN.CHANGE.id, stepIndex: 0 }));\n            dispatch(setActiveStep(0, { isFinished: false }));\n          } else {\n            dispatch(setErrorMessage({ error: json.status, message: json.error_message }));\n            dispatch(setStepMode({ mode: MODES.PIN.CHANGE.id, stepIndex: 0 }));\n          }\n        }\n      })\n      .catch((error) => {\n        dispatch(setErrorMessage({ title: \"API_ERROR\", message: String(error) }));\n      });\n  }\n};\n\nexport const getUtilityRate = ({ coords, stepIndex = 1, averageBill }) => {\n  return dispatch => {\n    fetch(\"https://developer.nrel.gov/api/utility_rates/v3.json?api_key=\" + NREL_API_KEY + \"&lat=\" + coords.lat + \"&lon=\" + coords.lon)\n      .then(response => response.json())\n      .then(json => {\n        dispatch(setStepData({ data: {\n          utility_rate: json.outputs,\n          kWh_month: json.outputs && averageBill && Math.round(averageBill/(json.outputs.residential * 1.6)),\n          kWh_year: json.outputs && averageBill && Math.round(averageBill/(json.outputs.residential * 1.6))*12,\n        }, stepIndex: stepIndex }));\n      })\n      .catch((error) => {\n        dispatch(setErrorMessage({ title: \"API_ERROR\", message: String(error) }));\n      });\n  }\n};\n\nconst isShowOptimizers = (data) => {\n  return data.BatteryType !== \"don't need\" && (data.InverterType === \"Micro-Inverters: Enphase IQ7+\" || data.InverterType === \"Single Inverter: SMA\");\n}\n\nconst getProposalUrlParams = (params, panelsData) => {\n  const {\n    PanelsCount,\n    BatteryType,\n    InverterType,\n    PanelsType,\n    KWhProduced,\n    RoofMaterial,\n    RoofTilt,\n    PanelsGeometry,\n  } = params;\n\n  const kw = PanelsCount * (panelsData.watt / 1000);\n\n  const batteryPrices = {\n    \"Enphase Encharge 10\": 13100,\n    \"Tesla - Powerwall 2\": 15500,\n    \"LG RESU10H\": 8400,\n    \"don't need\": 0,\n  };\n\n  const system_size = (PanelsCount * panelsData.watt) / 1000;\n  const cost_PPW = system_size * 1000 * (system_size <= 5.99 ? 2.25 : (system_size < 10.99 ? 2.2 : (system_size >= 20.99) ? 2.1 : (system_size > 10.99) ? 2.15 : 0 ) );\n  const panel_cost = system_size * panelsData.adder * 1000;\n  const totalPrice = (RoofTilt === \"Flat\" ? 20 * PanelsCount : 0) +\n                      (RoofMaterial === \"Clay Terracota\" ? 114 * PanelsCount : 0) +\n                      batteryPrices[BatteryType] +\n                      (system_size >= 6 ? system_size * 0.5 * 1000 : ( system_size < 6 ? 3000 : 0 )) +\n                      (cost_PPW+panel_cost);\n\n  const p1_y_7 = ( (totalPrice*0.22)/(1-0.08) + (totalPrice*0.78)/(1 - 0) );\n  const p1_y_12 = ( (totalPrice*0.22)/(1-0.08) + (totalPrice*0.78)/(1 - 0.06) );\n  const p1_y_15 = ( (totalPrice*0.22)/(1-0.08) + (totalPrice*0.78)/(1 - 0.14) );\n  const p1_y_20 = ( (totalPrice*0.22)/(1-0.08) + (totalPrice*0.78)/(1 - 0.19) );\n\n  const p2_y_10 = (totalPrice/(1-0.1925));\n  const p2_y_15 = (totalPrice/(1-0.2250));\n  const p2_y_20 = (totalPrice/(1-0.2650));\n  const p2_y_25 = (totalPrice/(1-0.24));\n\n  const p3 = (totalPrice+1000);\n\n  const getRoundedValue = value => Math.round(value).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\n  const proposalParams = {\n    \"b_home\": Math.trunc(5911*kw).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"b_tax\": Math.trunc(totalPrice*0.22).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"b_co2\": Math.trunc(942*25*kw).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"b_trees\": Math.trunc(40*25*kw).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"p_now\": Math.trunc(totalPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"p_wp\": Math.round((totalPrice / (system_size * 1000))).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n\n    \"p1_m_7\": getRoundedValue(getMonthlyPayment(p1_y_7, 4.99, 7*12)),\n    \"p1_m_12\": getRoundedValue(getMonthlyPayment(p1_y_12, 2.99, 12*12)),\n    \"p1_m_15\": getRoundedValue(getMonthlyPayment(p1_y_15, 2.99, 15*12)),\n    \"p1_m_20\": getRoundedValue(getMonthlyPayment(p1_y_20, 2.99, 20*12)),\n    \"p1_y_7\": getRoundedValue(p1_y_7),\n    \"p1_y_12\": getRoundedValue(p1_y_12),\n    \"p1_y_15\": getRoundedValue(p1_y_15),\n    \"p1_y_20\": getRoundedValue(p1_y_20),\n\n    \"p1_m_7t\": getRoundedValue(getMonthlyPayment(p1_y_7*0.78, 4.99, 7*12)),\n    \"p1_m_12t\": getRoundedValue(getMonthlyPayment(p1_y_12*0.78, 2.99, 12*12)),\n    \"p1_m_15t\": getRoundedValue(getMonthlyPayment(p1_y_15*0.78, 2.99, 15*12)),\n    \"p1_m_20t\": getRoundedValue(getMonthlyPayment(p1_y_20*0.78, 2.99, 20*12)),\n    \"p1_y_7t\": getRoundedValue(p1_y_7*0.78),\n    \"p1_y_12t\": getRoundedValue(p1_y_12*0.78),\n    \"p1_y_15t\": getRoundedValue(p1_y_15*0.78),\n    \"p1_y_20t\": getRoundedValue(p1_y_20*0.78),\n\n    \"p2_m_10\": getRoundedValue(getMonthlyPayment(p2_y_10, 1.49, 10*12)),\n    \"p2_m_15\": getRoundedValue(getMonthlyPayment(p2_y_15, 1.49, 15*12)),\n    \"p2_m_20\": getRoundedValue(getMonthlyPayment(p2_y_20, 0.99, 20*12)),\n    \"p2_m_25\": getRoundedValue(getMonthlyPayment(p2_y_25, 1.99, 25*12)),\n    \"p2_y_10\": getRoundedValue(p2_y_10),\n    \"p2_y_15\": getRoundedValue(p2_y_15),\n    \"p2_y_20\": getRoundedValue(p2_y_20),\n    \"p2_y_25\": getRoundedValue(p2_y_25),\n\n    \"p2_m_10t\": getRoundedValue(getMonthlyPayment(p2_y_10*0.78, 1.49, 10*12)),\n    \"p2_m_15t\": getRoundedValue(getMonthlyPayment(p2_y_15*0.78, 1.49, 15*12)),\n    \"p2_m_20t\": getRoundedValue(getMonthlyPayment(p2_y_20*0.78, 0.99, 20*12)),\n    \"p2_m_25t\": getRoundedValue(getMonthlyPayment(p2_y_25*0.78, 1.99, 25*12)),\n    \"p2_y_10t\": getRoundedValue(p2_y_10*0.78),\n    \"p2_y_15t\": getRoundedValue(p2_y_15*0.78),\n    \"p2_y_20t\": getRoundedValue(p2_y_20*0.78),\n    \"p2_y_25t\": getRoundedValue(p2_y_25*0.78),\n\n    \"p3_m_12\": getRoundedValue(getMonthlyPayment(p3, 4.99, 12*12)),\n    \"p3_m_20\": getRoundedValue(getMonthlyPayment(p3, 5.99, 20*12)),\n    \"p3_y_12\": getRoundedValue(p3),\n    \"p3_y_20\": getRoundedValue(p3),\n\n    \"p3_m_8t\": getRoundedValue(getMonthlyPayment(p3*0.78, 4.99, 8*12)),\n    \"p3_m_15t\": getRoundedValue(getMonthlyPayment(p3*0.78, 4.99, 15*12)),\n    \"p3_m_20t\": getRoundedValue(getMonthlyPayment(p3*0.78, 5.99, 20*12)),\n    \"p3_y_8t\": getRoundedValue(p3*0.78),\n    \"p3_y_15t\": getRoundedValue(p3*0.78),\n    \"p3_y_20t\": getRoundedValue(p3*0.78),\n\n    \"d_size\": 0,\n    \"d_inverter\": InverterType,\n    \"d_battery\": BatteryType === \"don't need\" ? \"n/a\" : BatteryType,\n    \"d_panels\": PanelsType,\n    \"d_panels_q\": PanelsCount,\n    \"d_kw\": kw.toFixed(2).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    \"s_roof\": RoofMaterial,\n\n    //\"geom\": JSON.stringify(JSON.parse(PanelsGeometry).features[0].geometry.coordinates),\n  };\n\n  let url_params = \"?\";\n  _.map(proposalParams, (value, key) => {\n    url_params+= \"&\" + key + \"=\" + value;\n  });\n\n  return url_params;\n}\n\nexport const pushLeadCRM = (params, panelsData) => {\n  return dispatch => {\n    const formData = new FormData();\n    formData.append('arguments', JSON.stringify({\n      \"Address_street\": params.AddressStreet,\n      \"Address_city\": params.AddressCity,\n      \"Address_zip\": params.AddressZip,\n      \"FirstName\": params.FirstName,\n      \"LastName\": params.LastName,\n      \"AverageBill\": params.AverageBill,\n      \"RoofMaterial\": params.RoofMaterial,\n      \"RoofTilt\": params.RoofTilt,\n      \"Email\": params.Email,\n      \"Number\": params.Number,\n      \"InverterType\": params.InverterType,\n      \"KWhNeeded\": params.KWhNeeded,\n      \"KWhProduced\": params.KWhProduced,\n      \"PanelsCount\": params.PanelsCount,\n      \"PanelsGeometry\": params.PanelsGeometry,\n      \"PanelsPosition\": params.PanelsPosition,\n      \"PanelsType\": params.PanelsType,\n      \"BatteryType\": params.BatteryType,\n    }));\n\n    localStorage.setItem('panelsGeometry', params.PanelsGeometry);\n    localStorage.setItem('panelsData', JSON.stringify(panelsData));\n\n    fetch(\"/simple-php-proxy.php?url=https%3A%2F%2Fwww.zohoapis.com%2Fcrm%2Fv2%2Ffunctions%2Fleadsdesigntoolwebsite%2Factions%2Fexecute%3Fauth_type%3Dapikey%26zapikey%3D1003.fcdbf72823e0d8d152e76c0ff7dfe63f.5fa888c07ac5af74878815605838315b&full_headers=1&full_status=1\", {\n      method: 'POST',\n      body: formData\n    })\n      .then(response => response.json())\n      .then(json => {\n        const redirectUrl = \"https://greempower.com/proposal/\" + getProposalUrlParams(params, panelsData);\n        window.location.href = redirectUrl;\n      })\n      .catch((error) => {\n        dispatch(setErrorMessage({ title: \"API_ERROR\", message: String(error) }));\n      });\n\n    const redirectUrl = \"https://greempower.com/proposal/\" + getProposalUrlParams(params, panelsData);\n    window.location.href = redirectUrl;\n  }\n};\n\nexport const deletePVWatts = ({ key, pvwattsList, stepIndex = 5 }) => {\n  return dispatch => {\n    const newList = _.filter(pvwattsList, function(o) { return key !== o.key; });\n    dispatch(setStepData({ data: {\n        pvwatts: {\n          ...newList,\n        },\n      }, stepIndex: stepIndex }));\n  }\n};\n\nexport const getPVWatts = ({\n    coords,\n    stepIndex = 5,\n    system_capacity,\n    module_type = 1,\n    losses = 14,\n    array_type = 1,\n    tilt,\n    azimuth,\n    inv_eff = 96,\n    panels_count = 0,\n    key = 0,\n    pvwattsList,\n    panelsData,\n  }) => {\n  return dispatch => {\n    dispatch(setStepData({ stepIndex: stepIndex, data: { isPanelsDataLoading: true, }}));\n    fetch(\"https://developer.nrel.gov/api/pvwatts/v6.json?api_key=\" + NREL_API_KEY +\n      \"&lat=\" + coords.lat +\n      \"&lon=\" + coords.lon +\n      \"&system_capacity=\" + system_capacity +\n      \"&module_type=\" + module_type +\n      \"&losses=\" + losses +\n      \"&array_type=\" + array_type +\n      \"&tilt=\" + tilt +\n      \"&azimuth=\" + azimuth +\n      \"&inv_eff=\" + inv_eff\n    )\n      .then(response => response.json())\n      .then(json => {\n        if(json.outputs){\n          dispatch(setStepData({ data: { isPanelsDataLoading: false }, stepIndex: stepIndex }));\n          dispatch(setPVWattsData({ data: { key, outputs: json.outputs, azimuth: azimuth, panels_kWh: json.outputs.ac_annual*panels_count }, stepIndex: stepIndex })); /*(((panelsData.width/1000)*(panelsData.height/1000))**/\n        }\n      })\n      .catch((error) => {\n        dispatch(setErrorMessage({ title: \"API_ERROR\", message: String(error) }));\n      });\n  }\n};\n\n\n\n\n\n\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as turf from '@turf/turf';\nimport rectangleGrid from '@turf/rectangle-grid';\nimport _ from \"lodash\";\nimport $ from \"jquery\";\nimport { Editor } from 'react-map-gl-draw';\nimport cx from \"classnames\";\nimport ReactMapGL, { Popup, Source, Layer, Marker, Pin, _MapContext as MapContext, FlyToInterpolator, NavigationControl } from 'react-map-gl';\nimport DeckGL, { MapController } from 'deck.gl';\nimport { COORDINATE_SYSTEM } from '@deck.gl/core';\nimport { PolygonLayer, IconLayer, PointCloudLayer } from '@deck.gl/layers';\nimport { Button } from 'react-bootstrap';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { MODES, START_POINTS } from '../../constants';\nimport pinImg from './images/pin.png';\nimport cursorImg from '../../images/cursor.cur';\nimport deleteImg from '../../images/delete.png';\nimport addImg from '../../images/add.png';\nimport arrowImg from './images/arrow.png';\nimport panelPatternImg from './images/panel.jpg';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport { mapboxViewportChange, mapboxReady, setStepParams, setStepData, getPVWatts, setActiveStep, setStepMode, deletePVWatts, addLeadData, setMapboxRef, setErrorMessage, setHelpMessage } from '../../redux/actions';\nimport { EditableGeoJsonLayer, ViewMode, DrawPolygonMode, ModifyMode, TranslateMode } from 'nebula.gl';\nimport { MapView } from '@deck.gl/core';\nimport { SimpleMeshLayer } from '@deck.gl/mesh-layers';\nimport { PlaneGeometry } from '@luma.gl/engine';\n//import {FillStyleExtension} from '@deck.gl/extensions';\n\nconst _boundaryGeojson = { \"type\": \"Feature\", \"properties\": { }, \"geometry\": { \"type\": \"MultiPolygon\", \"coordinates\": [\n  [ [ [ -119.998076962469113, 41.997209380297384 ], [ -119.999995626814396, 38.999643183401176 ], [ -114.632398542806115, 35.001924739497397 ], [ -114.628026902525576, 34.991612262147427 ], [ -114.634827231850878, 34.885373510595748 ], [ -114.581978958237258, 34.825152667559912 ], [ -114.51514143572588, 34.737945946383185 ], [ -114.426542859373612, 34.588967021364887 ], [ -114.361259697850898, 34.450019750162539 ], [ -114.135877354498632, 34.312128607339083 ], [ -114.129659910544063, 34.273426429770815 ], [ -114.210486681953157, 34.217921943469726 ], [ -114.230693374805412, 34.19209332002449 ], [ -114.28043292644179, 34.168840731170185 ], [ -114.361259697850869, 34.122316156565603 ], [ -114.420325415419057, 34.109388075522489 ], [ -114.438977747282692, 34.062830474498426 ], [ -114.437423386294057, 34.016247045265104 ], [ -114.533793767589501, 33.939846172166654 ], [ -114.5027065478168, 33.865969383244035 ], [ -114.52291324066907, 33.815384895844304 ], [ -114.494934742873596, 33.692039897433652 ], [ -114.532239406600866, 33.554201642908687 ], [ -114.651925202725849, 33.414837531625423 ], [ -114.695447310407687, 33.409623271276232 ], [ -114.698556032384971, 33.356158890237225 ], [ -114.712545281282686, 33.290913538395181 ], [ -114.670577534589498, 33.239987949809532 ], [ -114.701664754362227, 33.094881979272145 ], [ -114.613066178009973, 33.03074910919657 ], [ -114.507369630782705, 33.03074910919657 ], [ -114.466956245078165, 32.942980926351375 ], [ -114.465401884089516, 32.842004300511789 ], [ -114.530685045612259, 32.77243344326277 ], [ -114.560217904396353, 32.736970557854839 ], [ -114.614231948751382, 32.731387138644422 ], [ -114.624529590301094, 32.729416435801348 ], [ -114.685732554228636, 32.737463195539057 ], [ -114.700304688497141, 32.745345024599899 ], [ -114.718762725237184, 32.717427046010108 ], [ -117.123747764904721, 32.536897349029729 ], [ -119.088460054541059, 32.688185822756026 ], [ -121.12778167163188, 34.909545423672924 ], [ -123.017884633813622, 37.350357908111562 ], [ -124.634420061995371, 39.828840926526929 ], [ -124.839595712495367, 42.006267057921605 ], [ -119.998076962469113, 41.997209380297384 ] ] ],\n  [ [ [ -79.085887101881426, 24.033656264875944 ], [ -79.185366205154239, 30.571026050747893 ], [ -81.450847346093582, 30.711474578963784 ], [ -81.480380204877704, 30.724903825992374 ], [ -81.572864683701624, 30.714832067792614 ], [ -81.70187664575856, 30.74504415443867 ], [ -81.759776592585254, 30.767193604690632 ], [ -81.809321849098097, 30.788499202441312 ], [ -81.870719108149288, 30.79520864001325 ], [ -81.897920425450451, 30.828078047599863 ], [ -81.947659977086857, 30.828078047599863 ], [ -81.964757947961857, 30.817346428630373 ], [ -81.973015490714005, 30.781369906955522 ], [ -81.979718672477489, 30.776588786329096 ], [ -81.998468151902941, 30.787325002253066 ], [ -82.010417302003077, 30.791434639561128 ], [ -82.025960911889442, 30.786066914554805 ], [ -82.014303204474658, 30.758552575313676 ], [ -82.032955536338321, 30.749155615545089 ], [ -82.038395799798536, 30.75385421119525 ], [ -82.045390424247415, 30.729687538912696 ], [ -82.03761861930424, 30.704171633216582 ], [ -82.052385048696294, 30.660510204027513 ], [ -82.011194482497402, 30.589938111446688 ], [ -82.006531399531482, 30.561022165889149 ], [ -82.017411926451942, 30.530079191347021 ], [ -82.016634745957617, 30.475568450645063 ], [ -82.036841438809915, 30.435170239166897 ], [ -82.033732716832631, 30.417659095601707 ], [ -82.042281702270145, 30.411596806333453 ], [ -82.038395799798536, 30.385322492389921 ], [ -82.042281702270145, 30.366454480645594 ], [ -82.076477644020173, 30.355671108414768 ], [ -82.128548737139525, 30.36578055505932 ], [ -82.168962122844121, 30.35769308216652 ], [ -82.197717801133905, 30.386670066756476 ], [ -82.207043967065729, 30.427088567383592 ], [ -82.207821147560054, 30.460084468948057 ], [ -82.200826523111189, 30.484992265590712 ], [ -82.221033215963473, 30.50585600495296 ], [ -82.236576825849852, 30.528733618727028 ], [ -82.240462728321461, 30.54353388228234 ], [ -82.232690923378257, 30.558331867850651 ], [ -82.217924493986203, 30.566402535971736 ], [ -82.217147313491878, 30.568420097062202 ], [ -83.79482371695903, 30.660510204027503 ], [ -84.018651699322874, 30.671931272215712 ], [ -84.617857860442641, 30.698127393828592 ], [ -84.863446896647403, 30.711222762543198 ], [ -84.899585789633235, 30.751504942310365 ], [ -84.927175697181539, 30.788079846893449 ], [ -84.933004550888938, 30.843083514567304 ], [ -84.936501863113364, 30.881634179491765 ], [ -84.981189741536696, 30.934573901771959 ], [ -84.980412561042371, 30.96538593467654 ], [ -85.00411656611908, 30.97509634294283 ], [ -85.002562205130445, 31.000204841573431 ], [ -85.138568791636246, 30.999535368220766 ], [ -85.358510871528438, 30.999200629764491 ], [ -85.505397984954698, 30.996522679396879 ], [ -85.766530631045811, 30.995183675735511 ], [ -86.054476004190931, 30.993175134647831 ], [ -86.516121217816305, 30.99417941053094 ], [ -86.540990993634495, 30.993509894462026 ], [ -86.567026540194192, 30.995183675735511 ], [ -86.702644536452823, 30.99417941053094 ], [ -86.724794180540897, 30.996522679396879 ], [ -86.980097972924625, 30.99853114929212 ], [ -87.128150857092365, 30.999200629764481 ], [ -87.235401765308367, 30.996522679396879 ], [ -87.259882950879415, 30.99819640727603 ], [ -87.598345056155239, 30.997526919684084 ], [ -87.596402104919463, 30.987484036280389 ], [ -87.591739021953543, 30.980788187485626 ], [ -87.594459153683644, 30.976435631322044 ], [ -87.588630299976259, 30.963041893598017 ], [ -87.592127612200684, 30.951990631619246 ], [ -87.620106109996172, 30.898055358029296 ], [ -87.621660470984807, 30.886661372858388 ], [ -87.628655095433672, 30.88129902379449 ], [ -87.634483949141071, 30.866215792021837 ], [ -87.625546373456402, 30.857164702324649 ], [ -87.627100734445023, 30.849118564930212 ], [ -87.614665846535942, 30.836042137946496 ], [ -87.597179285413759, 30.820616347079095 ], [ -87.578915543797279, 30.810219293760056 ], [ -87.56997796811261, 30.80149830827105 ], [ -87.544331011800082, 30.779356832784305 ], [ -87.545496782541562, 30.770297472526064 ], [ -87.536559206856879, 30.762243984681252 ], [ -87.535004845868258, 30.750162476960281 ], [ -87.529953172655169, 30.741771640354703 ], [ -87.50935788955573, 30.73103029242527 ], [ -87.501586084612541, 30.722973487978024 ], [ -87.485653884479007, 30.717937639864356 ], [ -87.435137152348318, 30.688724483725554 ], [ -87.408713015541466, 30.675961911935595 ], [ -87.397832488621006, 30.651103594872893 ], [ -87.395500947138061, 30.610106869017805 ], [ -87.40638147405852, 30.600023020286489 ], [ -87.414930459496034, 30.568420097062177 ], [ -87.425033805922169, 30.555641494485744 ], [ -87.437468693831264, 30.54420656741393 ], [ -87.443686137785818, 30.526042417024286 ], [ -87.447572040257413, 30.508547771165905 ], [ -87.435331447471896, 30.501481724360694 ], [ -87.430279774258821, 30.491722997825093 ], [ -87.428531118146608, 30.488021153279274 ], [ -87.433194201112528, 30.487516345276052 ], [ -87.435525742595473, 30.480280473291256 ], [ -87.428531118146608, 30.469341496019986 ], [ -87.401718391092615, 30.451331553557818 ], [ -87.375099959162199, 30.447123138514225 ], [ -87.385980486082659, 30.423047477890556 ], [ -87.401912686216193, 30.414122806412315 ], [ -87.418816361967643, 30.408733926432369 ], [ -87.433194201112528, 30.403849994428686 ], [ -87.444657613403734, 30.385659387741246 ], [ -87.445434793898059, 30.367970796064004 ], [ -87.455926730571349, 30.357693082166509 ], [ -87.474579062435012, 30.334606372366675 ], [ -87.499643133376793, 30.323145233213754 ], [ -87.506054872454925, 30.314042775433812 ], [ -87.504694806589853, 30.302242022058465 ], [ -87.496923001646664, 30.283695082333267 ], [ -81.546634842018349, 24.05123222961506 ], [ -79.085887101881426, 24.033656264875944 ] ] ]\n] } }\n\nfunction useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value]\n  );\n\n  return debouncedValue;\n}\n\nfunction MapBox(params) {\n  let _map = useRef(null);\n  let _deck = useRef(null);\n  const {\n    mapboxApiAccessToken,\n    viewport,\n    mapboxReady,\n    stepsList,\n    mapboxViewportChange,\n    setActiveStep,\n    setStepMode,\n    setStepData,\n    setStepParams,\n    getPVWatts,\n    isMapboxReady,\n    deletePVWatts,\n    currentStep,\n    geocodeResult,\n    addLeadData,\n    startRegion,\n    setErrorMessage,\n    setHelpMessage\n  } = params;\n\n  const [marker, setMarker] = useState(null);\n\n  useEffect(\n    () => {\n      if(marker !== null){\n        addLeadData({ 'Coordinates': JSON.stringify(marker) });\n      }\n    },\n    [marker]\n  );\n\n  const [roofDrawed, setRoofDrawed] = useState(false);\n  const [isShowHelpMessages, setIsShowHelpMessages] = useState(true);\n  const [editorData, setEditorData] = useState({ type: 'FeatureCollection', features: [] });\n  const [panelsData, setPanelsData] = useState({ type: 'FeatureCollection', features: [] });\n  const [newPanelData, setNewPanelData] = useState(null);\n  const [_bearingLines, setBearingLines] = useState({});\n  const [_selectedLines, setSelectedLines] = useState({});\n  const [selectedLineFeatureIndex, setSelectedLineFeatureIndex] = useState(null);\n  const [_rotatePoints, setRotatePoints] = useState([]);\n  const [_modeHandler, setModeHandler] = useState(null);\n  const [_PVWattsQueries, setPVWattsQueries] = useState([]);\n  const [_panelsHovering, setPanelsHovering] = useState(false);\n  const [_deletedPanels, setDeletedPanels] = useState([]);\n  const [selectedPanels, setSelectedPanels] = useState([]);\n  const [selectedPanelsUpdateTrigger, setSelectedPanelsUpdateTrigger] = useState(false);\n  const [cachedPanelPosition, setCachedPanelPosition] = useState(null);\n\n  useEffect(() => {\n    if(stepsList[5].params.mode === \"FINISH_MODE\"){\n      setSelectedPanels([]);\n    }\n  }, [stepsList[5].params.mode]);\n\n  useEffect(() => {\n    if(selectedPanelsUpdateTrigger){\n      setSelectedPanelsUpdateTrigger(false);\n    }\n    setStepParams({ params: { selectedPanelsIndexes: selectedPanels }, stepIndex: 5 });\n  }, [selectedPanelsUpdateTrigger, selectedPanels]);\n\n  useEffect(() => {\n    if(stepsList[5].params.deletePanelsAction){\n      setPanelsData(current_panelsData => {\n        return { type: 'FeatureCollection', features: _.filter(current_panelsData.features, (f, key) => _.findIndex(selectedPanels, (id) => id === key) === -1) };\n      });\n      setSelectedPanels([]);\n      setStepParams({ params: { deletePanelsAction: false }, stepIndex: 5 });\n      editorFeatureUpdate({ updatedData: editorData, editType: \"panelsChanged\", newPanelsData: { type: 'FeatureCollection', features: _.filter(panelsData.features, (f, key) => _.findIndex(selectedPanels, (id) => id === key) === -1) } });\n    }\n  },[stepsList[5].params.deletePanelsAction]);\n\n  const debouncedPVWatts = useDebounce(_PVWattsQueries, 1000);\n\n  useEffect(() => {\n    if(editorData.features.length > 0){\n      setIsShowHelpMessages(false);\n    }\n  }, [panelsData]);\n\n  useEffect(\n    () => {\n      if(debouncedPVWatts.length > 0){\n        _.map(debouncedPVWatts, (query) => {\n          if( query &&\n              query.coords &&\n              typeof query.stepIndex == 'number' &&\n              typeof query.system_capacity == 'number' &&\n              typeof query.module_type == 'number' &&\n              typeof query.losses == 'number' &&\n              typeof query.array_type == 'number' &&\n              typeof query.tilt == 'number' &&\n              typeof query.azimuth == 'number' &&\n              typeof query.inv_eff == 'number' &&\n              typeof query.panels_count == 'number'\n          ){\n            getPVWatts(query);\n          }\n        });\n        setPVWattsQueries([]);\n      }\n    },\n    [debouncedPVWatts]\n  );\n\n  useEffect(() => {\n    setMapboxRef(_map);\n  }, [_map]);\n\n  useEffect(() => {\n    if(geocodeResult){\n      const resultBBox = geocodeResult.geometry.viewport;\n      const bbox = [ [resultBBox.northeast.lng, resultBBox.northeast.lat], [resultBBox.southwest.lng, resultBBox.southwest.lat] ];\n\n      const flyToProps = _map.current.getMap().cameraForBounds(bbox, {\n        padding: {top: 0, bottom: 0, left: 0, right: 0}\n      });\n\n      const center = [flyToProps.center.lng, flyToProps.center.lat];\n\n      setMarkerPosition(center, flyToProps.zoom);\n    }\n  }, [geocodeResult]);\n\n  useEffect(() => {\n    if(roofDrawed){\n      const bboxArray = turf.bbox(roofDrawed);\n\n      const bbox = [ [bboxArray[0],bboxArray[1]], [bboxArray[2], bboxArray[3]] ];\n\n      const flyToProps = _map.current.getMap().cameraForBounds(bbox, {\n        padding: {top: 100, bottom: 100, left: 100, right: 100}\n      });\n\n      updateViewport({\n        latitude: flyToProps.center.lat,\n        longitude: flyToProps.center.lng,\n        zoom: flyToProps.zoom - 0.5,\n        transitionDuration: 1000,\n        transitionInterpolator: new FlyToInterpolator(),\n      });\n    }\n  }, [roofDrawed]);\n\n  useEffect(() => {\n    if(stepsList[1].isActive){\n      updateViewport({\n        ...marker,\n        zoom: 20,\n      });\n    }\n  }, [stepsList[1].isActive]);\n\n  useEffect(() => {\n    updateViewport({\n      ...START_POINTS[startRegion].value,\n      zoom: 7.5,\n    });\n  }, [startRegion]);\n  \n\n  useEffect(() => {\n    setTimeout(() => { //crutch for redraw arrows layer after all data updating\n        setRotatePoints(getRotatePoints({ index: stepsList[5].params.selectedFeatureIndex, lines: _bearingLines }));\n    }, 100);\n  }, [stepsList[5].params.selectedFeatureIndex]);\n\n  useEffect(() => {\n    editorFeatureUpdate({ updatedData: editorData, editType: \"paramsChanged\" });\n  }, [stepsList[5].data.panelsData, stepsList[5].data.panelsPosition, stepsList[3].data.roofTilt]);\n\n  useEffect(() => {\n    if(selectedLineFeatureIndex !== null){\n      editorFeatureUpdate({ updatedData: editorData, editType: \"changeSelectedLine\", editContext: { featureIndexes: [selectedLineFeatureIndex] } });\n      setSelectedLineFeatureIndex(null);\n    }\n  }, [selectedLineFeatureIndex]);\n\n  useEffect(() => {\n    if(stepsList[5].params.action === MODES.ACTION.DELETE.id && stepsList[5].params.selectedFeatureIndex !== null){\n      _doDelete(stepsList[5].params.selectedFeatureIndex);\n    }\n    setStepParams({ params: { action: null }, stepIndex: 5 });\n  }, [stepsList[5].params.action]);\n\n  const _getCursor = ({ isDragging }) => {\n    let cursor = isDragging ? 'grabbing' : 'grab';\n\n    if(_panelsHovering && stepsList[5].params.mode === \"EDIT_PANELS\"){ //_panelsHovering && \n      return cursor = 'pointer';//'url('+ (_panelsHovering === 'add' ? addImg : deleteImg) +') 9 9, not-allowed';\n    }\n\n    if(stepsList[5].params.mode === \"EDIT\"){\n      return cursor = 'pointer';\n    }\n\n    if(stepsList[5].isActive && stepsList[5].params.mode === MODES.DRAW_TOOL.DRAW.id){\n      cursor = 'url('+ cursorImg +'), crosshair';\n    }\n\n    return cursor;\n  }\n\n  const isDeletedPanel = (panel) => {\n    const result = _.find(_deletedPanels, (delPan) => {\n      return _.isEqual(delPan, panel);\n    });\n    return result !== undefined;\n  }\n\n  const _doDelete = (featureIndex) => {\n    let newEditorData = editorData;\n    newEditorData.features = _.filter(newEditorData.features, function(feature) { return feature.properties.key !== featureIndex; });\n    setStepData({ data: { pvwatts: [] }, stepIndex: 5 });\n    editorFeatureUpdate({ updatedData: newEditorData, editContext: { featureIndexes: [featureIndex] }, editType: \"deletePolygon\" });\n    setStepParams({ params: { selectedFeatureIndex: null }, stepIndex: 5 });\n    //setStepMode({ mode: \"EDIT_PANELS\", stepIndex: 5 });\n\n    \n    setSelectedLines({\n      ..._.filter(_selectedLines, (line, key) => {\n        return +featureIndex !== +key;\n      }),\n    });\n    \n\n    //deletePVWatts({ key: featureIndex, pvwattsList: stepsList[5].data.pvwatts });\n  }\n\n  const getBearingLines = ({ polygon, selectedLine }) => {\n    const polygonCenter = turf.centerOfMass(polygon);\n\n    let prevCoord = null;\n    let allLines = [];\n    let newSelectedLine = null;\n\n    _.map(polygon.geometry.coordinates[0], (coord, key) => {\n        if(prevCoord !== null) {\n            let line = turf.lineString([prevCoord, coord]);\n            const lineLength = turf.length(line);\n            const lineBearing = turf.bearing(prevCoord, coord);\n            let azimuthAngle = turf.bearingToAzimuth(lineBearing) + 90;\n            const centroid = turf.centroid(line);\n\n            if(azimuthAngle > 360){\n              azimuthAngle = azimuthAngle - 360;\n            }\n\n\n            line.properties = {\n              key,\n              polygonKey: polygon.properties.key,\n              length: lineLength,\n              bearing: lineBearing,\n              azimuth: azimuthAngle,\n              centroid: centroid,\n            };\n\n            allLines.push(line);\n\n            if(selectedLine && selectedLine.properties.key < polygon.geometry.coordinates[0].length){\n              if(selectedLine.properties.key === key)\n                newSelectedLine = line;\n            } else {\n              if(newSelectedLine === null) {\n                  newSelectedLine = line;\n              } else {\n                  if(newSelectedLine.properties.length < line.properties.length){\n                      newSelectedLine = line;\n                  }\n              }\n            }\n        }\n        prevCoord = coord;\n    });\n\n    allLines = _.map(allLines, function(o) {\n      if(o.properties.key === newSelectedLine.properties.key) {\n        o.properties = {\n          ...o.properties,\n          //selected: true,  \n        };\n        return o;\n      } else {\n        return o;\n      }\n    });\n\n    return {\n      lines: allLines,\n      selectedLine: newSelectedLine,\n    };\n  }\n\n  const getRotatePoints = ({ lines, index }) => {\n    let points = [];\n    if(index !== null && lines[index]){\n      points = _.map(lines[index], (f) => {\n        const newF = f.properties.centroid;\n        newF.properties = {\n          ...f.properties,\n          centroid: null,\n        };\n        return f.properties.centroid;\n      });\n    }\n    return points;\n  }\n\n  const getLongestEdge = ({ polygon }) => {\n    const polygonCenter = turf.centerOfMass(polygon);\n    let longestEdgeLength = 0;\n    let prevCoord = null;\n\n    _.map(polygon.geometry.coordinates[0], (coord) => {\n        if(prevCoord !== null) {\n            const edge = turf.lineString([coord, polygonCenter]);\n            const edgeLength = turf.length(edge);\n\n            if(longestEdgeLength < edgeLength){\n              longestEdgeLength = edgeLength;\n            }\n        }\n        prevCoord = coord;\n    });\n\n    return longestEdgeLength;\n  }\n\n  const getPolygonBbox = ({ polygon }) => {\n    const polygonCenter = turf.centerOfMass(polygon);\n    const circleForBbox = turf.circle(polygonCenter, getLongestEdge({ polygon }));\n    const polygonBbox = turf.bbox(circleForBbox);\n\n    return polygonBbox;\n  }\n\n  const getSolarPanels = ({ polygon, panelsData }, existedData) => {\n    if(panelsData === null){\n      return {};\n    }\n\n    const polygonCenter = turf.centerOfMass(polygon);\n    const bearingLines = getBearingLines({ polygon, selectedLine: _selectedLines[polygon.properties.key] });\n    const polygonBbox = getPolygonBbox({ polygon });\n\n    setBearingLines({\n      ..._bearingLines,\n      [polygon.properties.key]: bearingLines.lines,\n    });\n\n    if(polygon.properties.key === stepsList[5].params.selectedFeatureIndex){\n      setTimeout(() => { //crutch for redraw arrows layer after all data updating\n        setRotatePoints(\n          _.map(bearingLines.lines, (f) => {\n            const newF = f.properties.centroid;\n            newF.properties = {\n              ...f.properties,\n              centroid: null,\n            };\n            return f.properties.centroid;\n          })\n        );\n      }, 100);\n    }\n\n    let filteredGrid = [];\n\n    if(!existedData){\n      const panelsParams = {\n        width: stepsList[5].data.panelsPosition === \"Horizontal\" ? panelsData.width/1000000 : panelsData.height/1000000, //1000000\n        height: stepsList[5].data.panelsPosition === \"Horizontal\" ? panelsData.height/1000000 : panelsData.width/1000000,\n      };\n      const tiltedWidth = +stepsList[3].data.roofTilt !== 0 ? panelsParams.width*Math.cos(+stepsList[3].data.roofTilt * Math.PI / 180) : panelsParams.width;\n\n      const squareGrid = rectangleGrid(polygonBbox, panelsParams.height, tiltedWidth, { properties: { type: \"panels\", featureKey: polygon.properties.key, azimuth: bearingLines.selectedLine.properties.azimuth } });\n      let rotatedSquareGrid = turf.transformRotate(squareGrid, bearingLines.selectedLine.properties.azimuth, { pivot: polygonCenter.geometry.coordinates });\n\n      _.map(rotatedSquareGrid.features, (f) => {\n        let new_f = f;\n        if(turf.booleanContains(polygon, f)) {\n          new_f.properties.isActive = true;\n          filteredGrid.push(new_f);\n        }\n      });\n    } else {\n      filteredGrid = existedData;\n    }\n\n    filteredGrid = turf.featureCollection(filteredGrid);\n\n    const translateStep = 0.00001;\n    let translateLength = translateStep;\n\n    while (translateLength < 0.01) {\n      const translated_filteredGrid = turf.transformTranslate(filteredGrid, translateLength, bearingLines.selectedLine.properties.azimuth);\n      if(isPolygonContainsPanels(polygon, translated_filteredGrid)){\n        filteredGrid = translated_filteredGrid;\n        translateLength = translateLength + translateStep;\n      } else {\n        translateLength = 99999;\n      }\n    }\n\n    setStepParams({ params: { panelsIsPlaced: true }, stepIndex: 5 });\n\n    const PVWattsQuery = {\n      coords: {\n        lat: marker.latitude,\n        lon: marker.longitude,\n      },\n      stepIndex: 5,\n      system_capacity: stepsList[5].data.panelsData.watt/1000,\n      module_type: 1,\n      losses: 14,\n      array_type: 1,\n      tilt: +stepsList[3].data.roofTilt,\n      azimuth: bearingLines.selectedLine.properties.azimuth,\n      inv_eff: 96,\n      key: polygon.properties.key,\n      panels_count: _.filter(filteredGrid.features, (feature) => {\n        return !isDeletedPanel(feature);\n      }).length,\n      panelsData: stepsList[5].data.panelsData,\n      pvwattsList: stepsList[5].data.pvwatts,\n    };\n\n    return { filteredGrid, PVWattsQuery };\n  }\n\n  const isPolygonContainsPanels = (polygon, panels) => {\n    for (var i = panels.features.length - 1; i >= 0; i--) {\n      if(!turf.booleanContains(polygon, panels.features[i])){\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  const isRoofContainsPanels = (roofs, panels) => {\n    for (var i = panels.features.length - 1; i >= 0; i--) {\n      if(!turf.booleanContains(roofs.features[panels.features[i].properties.featureKey], panels.features[i])){\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  const isPanelIntersected = (panel, panels) => {\n    for (var j = panels.length - 1; j >= 0; j--) {\n      if(turf.booleanOverlap(panel, panels[j])){\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  const isPanelsIntersected = (inexes, panels) => {\n    for (var i = inexes.length - 1; i >= 0; i--) {\n      for (var j = panels.length - 1; j >= 0; j--) {\n        if(inexes[i] !== j && turf.booleanOverlap(panels[inexes[i]], panels[j])){\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  const editorFeatureTranslate = ({ updatedData, editType, editContext }) => {\n    const isPanelsIntersectedBool = isPanelsIntersected(editContext.featureIndexes, updatedData.features);\n\n    if(cachedPanelPosition === null){\n      setCachedPanelPosition(panelsData);\n    }\n\n    if(isRoofContainsPanels(editorData, updatedData)){\n      if(!isPanelsIntersectedBool){\n        setCachedPanelPosition(updatedData);\n      }\n      if(editType === 'translated'){\n        setPanelsData(isPanelsIntersectedBool ? cachedPanelPosition : updatedData);\n        if(isPanelsIntersectedBool){\n          setHelpMessage({ title: \"Wrong placement\", message: \"Panels should not overlap.\" });\n        }\n      } else {\n        setPanelsData(updatedData);\n      }\n    }\n  }\n\n  const editorFeatureUpdate = ({ updatedData, editType, editContext, newPanelsData }) => {\n    if(!updatedData.features.length){\n      setPanelsData({ type: 'FeatureCollection', features: [] });\n      setStepData({ data: { pvwatts: {} }, stepIndex: 5 });\n      return null;\n    }\n\n    let solarPanelsAll = [];\n    let PVWattsQueries = [];\n\n    _.map(updatedData.features, (feature, key) => {\n      feature.properties.key = key;\n\n      let existedData = null;\n\n      if(editContext){\n        if(editType === \"addTentativePosition\" || (editContext.featureIndexes && editContext.featureIndexes.indexOf(key) === -1)){\n          existedData = _.filter(panelsData.features, f => f.properties.featureKey === key);\n        }\n        if(editType === \"changeSelectedLine\" && (editContext.featureIndexes && editContext.featureIndexes.indexOf(key) === -1)){\n          existedData = _.filter(panelsData.features, f => f.properties.featureKey === key);\n        }\n      }\n\n      if(editType === \"panelsChanged\"){\n        existedData = _.filter(newPanelsData.features, f => f.properties.featureKey === key);\n      }\n\n      const {\n        PVWattsQuery,\n        filteredGrid,\n      } = getSolarPanels({ polygon: feature, panelsData: stepsList[5].data.panelsData }, existedData);\n\n      PVWattsQueries.push(PVWattsQuery);\n\n      if(filteredGrid){\n        solarPanelsAll = [\n          ...solarPanelsAll,\n          ...filteredGrid.features,\n        ];\n      }\n    });\n\n    setPVWattsQueries(PVWattsQueries);\n\n    let panelsGeometryCollection = [];\n    const filteredAllPanels = _.filter(solarPanelsAll, (el) => !isDeletedPanel(el));\n    const directionPoint = _.find(_rotatePoints, function(o) { return o.properties.selected; });\n    const mergedPanels = turf.multiPolygon(\n        _.map(filteredAllPanels, (el) => {\n          return el.geometry.coordinates;\n        }),\n        {\n          \"stroke\": \"#e10000\",\n          \"stroke-width\": 1,\n          \"stroke-opacity\": 1,\n          \"fill\": \"#00b4e1\",\n          \"fill-opacity\": 0.5\n        }\n      );\n\n    panelsGeometryCollection.push(mergedPanels);\n    if(directionPoint){\n      panelsGeometryCollection.push(directionPoint);\n    }\n\n    addLeadData({\n      'PanelsCount': filteredAllPanels.length,\n      'PanelsGeometry': JSON.stringify(turf.featureCollection(panelsGeometryCollection)),\n    });\n\n    setPanelsData({ type: 'FeatureCollection', features: solarPanelsAll });\n\n    if(editType === 'addFeature' || editType === 'addPosition' || editType === 'finishMovePosition' || editType === 'removePosition'){\n      const bearingLines = getBearingLines({ polygon: updatedData.features[updatedData.features.length - 1], selectedLine: _selectedLines[updatedData.features.length - 1] });\n\n      setBearingLines({\n        ..._bearingLines,\n        [updatedData.features.length - 1]: bearingLines.lines,\n      });\n\n      setTimeout(() => { //crutch for redraw arrows layer after all data updating\n        setRotatePoints(\n          _.map(bearingLines.lines, (f) => {\n            const newF = f.properties.centroid;\n            newF.properties = {\n              ...f.properties,\n              centroid: null,\n            };\n            return f.properties.centroid;\n          })\n        );\n      }, 100);\n    }\n\n    if(editType === 'addFeature'){\n      setStepParams({ stepIndex: 5, params: { directionIsSelected: false } });\n      setStepParams({ params: { selectedFeatureIndex: updatedData.features.length - 1 }, stepIndex: 5 });\n\n      const messageTypeStr = stepsList[3].data.roofTilt === \"20\" ? \"roof\" : \"panels\";\n\n      if(isShowHelpMessages){\n        setHelpMessage({\n          title: \"Select direction\",\n          message: `Select direction of the ${messageTypeStr} by clicking on the arrow. If you need to modify the shape of the roof you can move the red dots or add/delete by clicking on them.`,\n          buttonText: \"Let’s get started\"\n        });\n      }\n\n      setStepMode({ mode: MODES.DRAW_TOOL.EDIT.id, stepIndex: 5 });\n      setRoofDrawed(updatedData);\n    }\n\n    setEditorData(updatedData);\n  }\n\n  const setMarkerPosition = (coords, zoom) => {\n    if(turf.booleanPointInPolygon(turf.point(coords), _boundaryGeojson)){\n        setStepData({ stepIndex: 0, data: { longitude: coords[0], latitude: coords[1] } });\n        if(zoom){\n          updateViewport({\n            latitude: coords[1],\n            longitude: coords[0],\n            zoom: zoom,\n            transitionDuration: 1000,\n            transitionInterpolator: new FlyToInterpolator(),\n          });\n        } else {\n          updateViewport({\n            latitude: coords[1],\n            longitude: coords[0],\n            transitionDuration: 1000,\n            transitionInterpolator: new FlyToInterpolator(),\n          });\n        }\n        setMarker({\n          longitude: coords[0],\n          latitude: coords[1],\n        });\n      } else {\n        setErrorMessage({ error: \"Unattended area\", message: \"Sorry, but we're not servicing this area.\" });\n        setStepMode({ mode: MODES.PIN.CHANGE.id, stepIndex: 0 });\n        setActiveStep(0, { isFinished: false });\n      }\n    \n  };\n\n  const _onClick = event => {\n\n    if(event.target && event.target.nodeName === \"BUTTON\") return null;\n\n    if(event.layer === null){\n      setSelectedPanels([]);\n    }\n    if(stepsList[5].params.mode === \"EDIT_PANELS\" && (event.layer && event.layer.id !== \"roof-layer\")){\n      setSelectedPanels([]);\n    }\n\n    if(stepsList[5].params.addPanelsAction === true && newPanelData !== null){\n      if(!event.layer || (event.layer && !(event.layer.id === \"mesh-layer\" || event.layer.id === \"panels-layer\" || event.layer.id === \"roof-layer\" || event.layer.id === \"view-roof-layer\"))){\n        setHelpMessage({ title: \"Wrong placement\", message: \"The panel must be placed inside the roof polygon.\" });\n      } else {\n        const featureKey = event.object.properties.key >= 0 ? event.object.properties.key : event.object.properties.featureKey;\n        if(featureKey === stepsList[5].params.selectedFeatureIndex){\n          const panelCopy = _.find(panelsData.features, (f) => f.properties.featureKey === stepsList[5].params.selectedFeatureIndex);\n          if(panelCopy){\n            const panelCopy_placed = turf.transformTranslate(panelCopy, turf.distance(turf.centroid(panelCopy), turf.point(newPanelData[0])), turf.bearing(turf.centroid(panelCopy), turf.point(newPanelData[0])));\n            if(turf.booleanWithin(panelCopy_placed, editorData.features[stepsList[5].params.selectedFeatureIndex]) && !isPanelIntersected(panelCopy_placed, panelsData.features)){\n              setTimeout(() => setSelectedPanelsUpdateTrigger(true), 500);\n              setPanelsData((current_panelsData) => ({ type: 'FeatureCollection', features: [ ...current_panelsData.features, panelCopy_placed] }));\n              setStepParams({ params: { addPanelsAction: false }, stepIndex: 5 });\n              setSelectedPanels((current_selectedPanels) => ([ ...current_selectedPanels, panelsData.features.length ]));\n              editorFeatureUpdate({ updatedData: editorData, editType: \"panelsChanged\", newPanelsData: { type: 'FeatureCollection', features: [ ...panelsData.features, panelCopy_placed] } });\n            } else {\n              setHelpMessage({ title: \"Wrong placement\", message: \"The panel must be placed inside the selected side of roof and should not overlap.\" });\n            }\n          } else {\n            setHelpMessage({ title: \"Wrong placement\", message: \"Need more space. Please, expand the polygon area.\" });\n          }\n        } else {\n          setHelpMessage({ title: \"Wrong placement\", message: \"The panel must be placed inside the selected side of roof.\" });\n        }\n      }\n    }\n\n    if(event.layer && event.layer.id === \"arrows-layer\"){\n      setSelectedLines({\n        ..._selectedLines,\n        [event.object.properties.polygonKey]: event.object,\n      });\n      setSelectedLineFeatureIndex(event.object.properties.polygonKey);\n      \n      if(stepsList[5].data.panelsData){\n        setStepParams({ params: { directionIsSelected: true }, stepIndex: 5 });\n        setStepMode({ mode: \"EDIT_PANELS\", stepIndex: 5 });\n        if(isShowHelpMessages){\n          setHelpMessage({ title: \"Edit panels\", message: \"Select panels to edit by clicking on them. You can move or delete panels and add new ones.\" });\n        }\n      } else {\n        setStepParams({ stepIndex: 5, params: { directionIsSelected: true } });\n        if(isShowHelpMessages){\n          setHelpMessage({ title: \"SELECT YOUR BRAND OF PANELS\", message: \"Select the brand and wattage of the panels you prefer.\" });\n        }\n      }\n    }\n\n    if(stepsList[5].isActive && stepsList[5].params.mode === MODES.DRAW_TOOL.EDIT.id){\n      if(event.layer && ((event.layer.id === \"roof-layer\" && event.object && (event.object.properties.key >= 0)) || (event.layer.id === \"panels-layer\" && event.object && (event.object.properties.featureKey >= 0))) ){\n        setStepParams({ params: { selectedFeatureIndex: event.object.properties.key >= 0 ? event.object.properties.key : event.object.properties.featureKey }, stepIndex: 5 });\n      }\n    }\n    if(stepsList[0].isActive && stepsList[0].params.mode === MODES.PIN.CHANGE.id){\n      setMarkerPosition(event.lngLat);\n      setStepMode({ mode: MODES.PIN.CONFIRM.id, stepIndex: 0 });\n    }\n  }\n\n  const _onMarkerDragEnd = event => {\n    setMarkerPosition(event.lngLat);\n    setStepMode({ mode: MODES.PIN.CONFIRM.id, stepIndex: 0 });\n  };\n\n  const updateViewport = viewport => {\n    if(_boundaryGeojson){\n      if(turf.booleanPointInPolygon(turf.point([viewport.longitude, viewport.latitude]), _boundaryGeojson)){\n        mapboxViewportChange(viewport);\n      }\n    } else {\n      mapboxViewportChange(viewport);\n    }\n  };\n\n  const editorLayerProps = {\n    onEdit: editorFeatureUpdate,\n    _subLayerProps: {\n      geojson: {\n        getLineColor: (feature) => {\n          if (stepsList[5].params.selectedFeatureIndex === feature.properties.key) {\n            return [0, 180, 255, 255];\n          } else {\n            return [0, 180, 255, 255];\n          }\n        },\n        getFillColor: (feature) => [102, 113, 128, 150],\n      }\n    }\n  };\n\n  const editorLayer = new EditableGeoJsonLayer({\n    ...editorLayerProps,\n    id: 'roof-layer',\n    data: editorData,\n    mode: DrawPolygonMode,\n    selectedFeatureIndexes: [],\n  });\n\n  const modifyLayer = new EditableGeoJsonLayer({\n    ...editorLayerProps,\n    id: 'roof-layer',\n    data: editorData,\n    pickingRadius: 20,\n    mode: ModifyMode,\n    selectedFeatureIndexes: (stepsList[5].params.selectedFeatureIndex !== null ? [stepsList[5].params.selectedFeatureIndex] : []),\n  });\n\n  const viewRoofLayer = new EditableGeoJsonLayer({\n    ...editorLayerProps,\n    onEdit: () => null,\n    id: 'view-roof-layer',\n    data: editorData,\n    mode: ViewMode,\n    _subLayerProps: {\n      geojson: {\n        getLineColor: (feature, data) => {\n          if (feature.properties.key === stepsList[5].params.selectedFeatureIndex) {\n            return [0, 180, 255, 255];\n          } else {\n            return [0, 0, 0, 50];\n          }\n        },\n        getFillColor: (feature, data) => {\n          if (feature.properties.key === stepsList[5].params.selectedFeatureIndex) {\n            return [102, 113, 128, 150];\n          } else {\n            return [0, 0, 0, 50];\n          }\n        },\n      }\n    },\n    selectedFeatureIndexes: [],\n  });\n\n  const translateLayer = new EditableGeoJsonLayer({\n    ...editorLayerProps,\n    onEdit: editorFeatureTranslate,\n    id: 'roof-layer',\n    data: panelsData,\n    pickingRadius: 20,\n    mode: TranslateMode,\n    onClick: (info, e) => {\n      if(stepsList[5].params.mode === \"EDIT_PANELS\" && info.object.properties.featureKey === stepsList[5].params.selectedFeatureIndex){\n        setSelectedPanelsUpdateTrigger(true);\n        setSelectedPanels((current_selectedPanels) => {\n          const searched_current_selectedPanels = _.findIndex(current_selectedPanels, (id) => id === info.index);\n          let new_current_selectedPanels = current_selectedPanels;\n          if (searched_current_selectedPanels > -1) {\n            new_current_selectedPanels.splice(searched_current_selectedPanels, 1);\n          } else {\n            new_current_selectedPanels.push(info.index);\n          }\n          return new_current_selectedPanels;\n        });\n      }\n    },\n    _subLayerProps: {\n      geojson: {\n        getLineColor: (feature, data) => {\n          if (_.findIndex(selectedPanels, (id) => id === data.index) > -1) {\n            return [0, 180, 255, 255];\n          } else {\n            return [0, 180, 255, 0];\n          }\n        },\n        getFillColor: (feature, data) => {\n          if (_.findIndex(selectedPanels, (id) => id === data.index) > -1) {\n            return [102, 113, 128, 0];\n          } else {\n            return [102, 113, 128, 0];\n          }\n        },\n      }\n    },\n    selectedFeatureIndexes: selectedPanels,\n  });\n\n  const meshAddPanelLayer = new SimpleMeshLayer({\n    id: 'mesh-layer-addpanel',\n    data: newPanelData,\n    pickable: false,\n    getOrientation: d => {\n      if(panelsData.features.length === 0 || stepsList[5].params.selectedFeatureIndex === null){\n        return [0, 0, 0];\n      }\n      const panelCopy = _.find(panelsData.features, (f) => f.properties.featureKey === stepsList[5].params.selectedFeatureIndex);\n      if(!panelCopy){\n        return [0, 0, 0];\n      }\n      const coords = panelCopy.geometry.coordinates[0];\n      const line1 = turf.lineString([coords[0],coords[1]]);\n      const line2 = turf.lineString([coords[1],coords[2]]);\n      const longestSide = turf.length(line1) > turf.length(line2) ? line2 : line1;\n      const centerOfSide = turf.centerOfMass(longestSide);\n      const bearing = turf.bearing(turf.centerOfMass(panelCopy), centerOfSide);\n      return [0, -(bearing + 180), 0];\n    },\n    getPosition: d => {\n      return d;\n    },\n    getColor: [255, 255, 255],\n    getScale: d => {\n      return [1, 1, 1];\n    },\n    texture: panelPatternImg,\n    mesh: stepsList[5].data.panelsData && new PlaneGeometry({\n      type: 'x,y',\n      xlen: ((stepsList[5].data.panelsData.height - 10) / 1000),\n      ylen: ((stepsList[5].data.panelsData.width - 110) / 1000),\n      nx: 5,\n      nz: 5,\n      offset: 0\n    })\n  });\n\n  const meshLayer = new SimpleMeshLayer({\n    id: 'mesh-layer',\n    data: panelsData.features,\n    pickable: false,\n    getOrientation: d => {\n      const coords = d.geometry.coordinates[0];\n      const line1 = turf.lineString([coords[0],coords[1]]);\n      const line2 = turf.lineString([coords[1],coords[2]]);\n      const longestSide = turf.length(line1) > turf.length(line2) ? line2 : line1;\n\n      const centerOfSide = turf.centerOfMass(longestSide);\n\n      const bearing = turf.bearing(turf.centerOfMass(d), centerOfSide);\n\n      return [0, -(bearing + 180), 0];\n    },\n    getPosition: d => {\n      return turf.center(d).geometry.coordinates;\n    },\n    getColor: [255, 255, 255],\n    getScale: d => {\n      if(isDeletedPanel(d)){\n        return [0, 0, 0];\n      } else {\n        return [1, 1, 1];\n      }\n    },\n    texture: panelPatternImg,\n    mesh: stepsList[5].data.panelsData && new PlaneGeometry({\n      type: 'x,y',\n      xlen: ((stepsList[5].data.panelsData.height - 10) / 1000),\n      ylen: ((stepsList[5].data.panelsData.width - 110) / 1000),\n      nx: 5,\n      nz: 5,\n      offset: 0\n    })\n  });\n\n  const panelsLayer = new PolygonLayer({\n    id: 'panels-layer',\n    data: panelsData.features,\n    _normalize: true,\n    pickable: true,\n    stroked: true,\n    filled: true,\n    getPolygon: d => {\n      return d.geometry.coordinates;\n    },\n    getFillColor: d => [0, 180, 255, 0],\n    onClick: (info, e) => {\n      if(stepsList[5].params.mode === \"EDIT_PANELS\"){\n        if(isDeletedPanel(info.object)){\n          setDeletedPanels(_.filter(_deletedPanels, (delPan) => !_.isEqual(info.object, delPan)));\n        } else {\n          setDeletedPanels([\n            ..._deletedPanels,\n            info.object,\n          ]);\n        }\n      }\n    },\n    autoHighlight: (stepsList[5].params.mode === \"EDIT_PANELS\"),\n    highlightColor: [255, 0, 0, 150],\n    getLineColor: (d) => {\n      if(isDeletedPanel(d)){\n        return [0, 0, 0, 0];\n      } else {\n        return [255, 255, 255, 255];\n      }\n    },\n    getLineWidth: 4,\n    lineWidthMinPixels: 1,\n    lineWidthMaxPixels: 4,\n    lineWidthScale: 0,\n    lineWidthUnits: 'pixels',\n    updateTriggers: {\n        getFillColor: [_deletedPanels],\n        getLineWidth: [_deletedPanels],\n    }\n  });\n\n  const ICON_MAPPING = {\n    marker: {x: 0, y: 0, width: 64, height: 64, mask: true, anchorY: 128,}\n  };\n\n  const arrowsLayer = new IconLayer({\n    id: 'arrows-layer',\n    data: _rotatePoints,\n    pickable: true,\n    iconAtlas: arrowImg,\n    iconMapping: ICON_MAPPING,\n    getIcon: d => 'marker',\n    getPosition: d => d.geometry.coordinates,\n    sizeUnits: 'meters',\n    getSize: d => 1.5,\n    sizeMaxPixels: 32,\n    getAngle: d => -d.properties.azimuth,\n    sizeMinPixels: 5,\n    getColor: d => {\n      let color = [0, 180, 255, 255];\n      if(_selectedLines[d.properties.polygonKey]){\n        if(d.properties.key === _selectedLines[d.properties.polygonKey].properties.key) color = [102, 113, 128, 180];\n      } else {\n        if(d.properties.selected) color = [102, 113, 128, 180];\n      }\n\n      return color;\n    },\n    updateTriggers: {\n        getColor: [_selectedLines]\n    }\n  });\n\n  return (\n      <ReactMapGL\n        ref={_map}\n        mapboxApiAccessToken = { mapboxApiAccessToken }\n        {...viewport}\n        onViewportChange={(viewport) => updateViewport(viewport)}\n        onLoad={() => mapboxReady()}\n        minZoom={(stepsList[0].isActive ? 7 : 18)}\n        onMouseMove={event => {\n          if(stepsList[5].params.addPanelsAction === true){\n            setNewPanelData([event.lngLat]);\n          }\n        }}\n        onClick={event => (currentStep < 1) && _onClick(event)}\n        dragPan={!(stepsList[5].params.mode === \"EDIT\" || stepsList[5].params.mode === \"EDIT_PANELS\")}\n      >\n        <DeckGL\n          ref={ref => _deck = ref}\n          initialViewState = {{\n            ...viewport,\n          }}\n          controller={{type: MapController, dragRotate: true, dragPan: !(stepsList[5].params.mode === \"EDIT\" || stepsList[5].params.mode === \"EDIT_PANELS\")}}\n          layers={[\n            stepsList[5].params.mode === \"DRAW\" && stepsList[5].params.action !== MODES.ACTION.DELETE.id ? editorLayer : null,\n            stepsList[5].params.mode === \"EDIT\" && stepsList[5].params.action !== MODES.ACTION.DELETE.id ? modifyLayer : null,\n            stepsList[5].params.mode === \"EDIT_PANELS\" && stepsList[5].params.action !== MODES.ACTION.DELETE.id ? viewRoofLayer : null,\n            meshLayer,\n            panelsLayer,\n            stepsList[5].params.mode === \"EDIT_PANELS\" && stepsList[5].params.action !== MODES.ACTION.DELETE.id && !selectedPanelsUpdateTrigger ? translateLayer : null,\n            stepsList[5].params.mode === \"EDIT\" && stepsList[5].params.action !== MODES.ACTION.DELETE.id ? arrowsLayer : null,\n            stepsList[5].params.addPanelsAction === true && newPanelData !== null ? meshAddPanelLayer : null,\n          ]}\n          getTooltip={({object}) => {\n            if(object && ((object.properties.type === \"panels\" && object.properties.featureKey !== null) || (object.geometry.type === \"Point\" && object.properties.azimuth))){\n              setPanelsHovering('selectPanel');\n            } else {\n              setPanelsHovering(false);\n            }\n          }}\n          onClick={event => (currentStep > 1) && _onClick(event)}\n          getCursor={_getCursor}\n        />\n        {stepsList[0].isActive && stepsList[0].params.mode === MODES.PIN.CONFIRM.id && marker &&\n          <Popup\n            latitude={marker.latitude}\n            longitude={marker.longitude}\n            closeButton={false}\n            closeOnClick={false}\n            captureClick={false}\n            anchor=\"bottom\"\n          >\n            <div className=\"address-popup\">Is this your property?</div>\n            <div className=\"popup-buttons\">\n              <Button onClick={() => {\n                addLeadData({ 'Coordinates': JSON.stringify(marker) });\n                setActiveStep(1);\n              }}>YES</Button>\n              <Button onClick={() => {\n                setStepMode({ mode: MODES.PIN.CHANGE.id, stepIndex: 0 });\n              }}>NO</Button>\n            </div>\n          </Popup>\n        }\n        {stepsList[0].isActive && stepsList[0].params.mode === MODES.PIN.CHANGE.id && marker &&\n          <Marker\n            latitude={marker.latitude}\n            longitude={marker.longitude}\n            offsetLeft={-33}\n            offsetTop={-75}\n            draggable={true}\n            onDragEnd={_onMarkerDragEnd}\n          >\n            <div className=\"map-marker\">\n              <img src={pinImg} width={64} draggable=\"false\" />\n            </div>\n          </Marker>\n        }\n        {_boundaryGeojson &&\n          <Source id=\"boundary-data\" type=\"geojson\" data={turf.mask(_boundaryGeojson)}>\n            <Layer\n              id=\"boundary-layer\"\n              type=\"fill\"\n              paint={{\n                'fill-color': '#000',\n                'fill-opacity': 0.5,\n              }}\n            />\n          </Source>\n        }\n        <div className=\"navControl\" style={{zIndex: '1'}}>\n          <NavigationControl\n            showCompass={false}\n          />\n        </div>\n      </ReactMapGL>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n  \tviewport: state.mapbox.viewport,\n    geocodeResult: state.mapbox.geocodeResult,\n    stepsList: state.steps.list,\n    currentStep: state.steps.currentStep,\n    isMapboxReady: state.mapbox.isMapboxReady,\n    startRegion: state.mapbox.startRegion,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { mapboxViewportChange, mapboxReady, setStepParams, setStepMode, setStepData, getPVWatts, setActiveStep, deletePVWatts, addLeadData, setMapboxRef, setErrorMessage, setHelpMessage },\n)(MapBox);","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal } from 'react-bootstrap';\n//import { mapboxViewportChange, mapboxReady } from '../../redux/actions';\n\nfunction ModalComponent(params) {\n\n  const {\n    stepIndex = null,\n    stepsList,\n    isOpen = false,\n    size,\n    titleText = \"\",\n    children,\n  } = params;\n\n  const currentStep = stepIndex !== null ? stepsList[stepIndex] : {};\n\n  const [show, setShow] = useState(isOpen);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  return (\n    <div>\n      <Modal\n        show={show}\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        size={size}\n        centered\n        onHide={handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header>\n          <Modal.Title>{titleText}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {children}\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    stepsList: state.steps.list,\n  };\n};\n\nexport default connect(mapStateToProps, {})(ModalComponent);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport ProgressBar from 'progressbar.js';\nimport { Spinner } from 'react-bootstrap';\nimport _ from 'lodash';\n//import {  } from '../../redux/actions';\n\n\nclass CircleChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.barObj = null;\n    this.state = {\n      progress: 0.5,\n    };\n  }\n\n  componentDidMount() {\n    this.barObj = new ProgressBar.Circle('#circleChart', {\n      color: '#aaa',\n      // This has to be the same size as the maximum width to\n      // prevent clipping\n      strokeWidth: 6,\n      trailWidth: 6,\n      easing: 'easeInOut',\n      duration: 1400,\n      text: {\n        autoStyleContainer: false\n      },\n      fill: 'rgba(255, 255, 255, 1)',\n      from: { color: '#FF0000', width: 6 },\n      to: { color: '#0ACF00', width: 6 },\n      // Set default step function for all animate calls\n      step: function(state, circle) {\n        circle.path.setAttribute('stroke', state.color);\n        circle.path.setAttribute('stroke-width', state.width);\n\n        var value = Math.round(circle.value() * 100);\n\n        if(value >= 100 && circle.path.style.strokeDashoffset !== 0){\n          //circle.path.style.setProperty('stroke-dashoffset', 0);\n        }\n\n        if (value === 0) {\n          circle.setText('');\n        } else {\n          circle.setText(value + \"%\");\n        }\n      }\n    });\n    this.barObj.text.style.fontFamily = '\"Raleway\", Helvetica, sans-serif';\n    this.barObj.text.style.fontSize = '2rem';\n\n    if(this.props.needed && this.props.produced){\n      this.barObj.animate(this.props.produced/this.props.needed);\n    }\n  }\n\n  componentDidUpdate() {\n    if(this.props.needed && this.props.produced){\n      this.barObj.animate(this.props.produced/this.props.needed);\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"circleChart\" className=\"circle-chart\"></div>\n    );\n  };\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    stepsList: state.steps.list,\n  };\n};\n\nexport default connect(mapStateToProps, {  })(CircleChart);","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal } from 'react-bootstrap';\nimport { setActiveStep, setStepData, addLeadData } from '../../redux/actions';\nimport { Button, Form, Row, Col } from 'react-bootstrap';\nimport { useForm } from 'react-hook-form';\nimport _ from \"lodash\";\nimport $ from \"jquery\";\n\nfunction FormComponent(params) {\n\n  const {\n    setStepData,\n    setActiveStep,\n    stepsList,\n    addLeadData,\n    stepIndex = 7,\n  } = params;\n\n  const currentStepData = stepsList[stepIndex].data;\n\n  const { register, errors, handleSubmit } = useForm({\n    defaultValues: {\n      'FirstName': currentStepData.FirstName,\n      'LastName': currentStepData.LastName,\n      'Email': currentStepData.Email,\n      'Number': currentStepData.Number,\n    }\n  });\n\n  _.map(errors, (obj) => {\n    $(obj.ref).addClass('input-error');\n  });\n\n  function toogleInput(e) {\n    $(e.target).removeClass(\"input-error\");\n  }\n\n  const onSubmit = (data, e) => {\n    setStepData({\n      stepIndex: stepIndex,\n      data: {\n        ...data,\n      }\n    });\n    addLeadData(data);\n    setActiveStep(8);\n  }\n\n  return (\n    <div>\n      <Form className=\"modal-form\" onSubmit={handleSubmit(onSubmit)}>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"formGridFirstName\">\n            <Form.Label>First name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"FirstName\"\n              onInput={(e) => toogleInput(e)}\n              ref={register({required: true, maxLength: 80})}\n              placeholder=\"John\"\n            />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formGridLastName\">\n            <Form.Label>Last name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              name=\"LastName\"\n              onInput={(e) => toogleInput(e)}\n              ref={register({required: true, maxLength: 80})}\n              placeholder=\"Johnson\"\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Group controlId=\"formGridEmail\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            name=\"Email\"\n            onInput={(e) => toogleInput(e)}\n            ref={register({required: true, maxLength: 100, pattern: /^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+[.][A-Za-z]+$/i })}\n            placeholder=\"your@email.com\"\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formGridPhone\">\n          <Form.Label>Phone</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"Number\"\n            onInput={(e) => toogleInput(e)}\n            ref={register({required: true, maxLength: 25 })}\n            placeholder=\"+1-999-999-9999\"\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Next\n        </Button>\n      </Form>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    stepsList: state.steps.list,\n  };\n};\n\nexport default connect(mapStateToProps, { setActiveStep, setStepData, addLeadData })(FormComponent);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport $ from 'jquery';\nimport MapBox from \"../../components/MapBox/MapBox\";\nimport ModalComponent from \"../../components/Modal/Modal\";\nimport CircleChart from \"../../components/CircleChart/CircleChart\";\nimport { Button, Modal, Form, InputGroup, FormControl, Row, Col, OverlayTrigger, Popover, Spinner, DropdownButton, Dropdown } from 'react-bootstrap';\nimport { MAPBOX, MODES, START_POINTS } from \"../../constants\";\nimport { changeWindowSize, setActiveStep, setStepMode, setStepData, getUtilityRate, setStepParams, addLeadData, pushLeadCRM, geocodeAddress, errorConfirm, setStartRegion, getConstantData, setHelpMessage } from '../../redux/actions';\nimport \"../../styles.css\";\nimport _ from \"lodash\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport PersonalInfoForm from '../../components/Form/Form';\nimport roofShinglesImg from '../../images/Shingles.png';\nimport roofClayImg from '../../images/ClayTerracota.png';\nimport roofConcreteImg from '../../images/ConcreteTiles.png';\nimport roofOtherImg from '../../images/Other.png';\nimport roofPitchedImg from '../../images/Pitched.png';\nimport roofFlatImg from '../../images/Flat.png';\nimport cashImg from '../../images/Cash.png';\nimport financeImg from '../../images/Finance.png';\nimport batteryLGImg from '../../images/LG RESU10H.png';\nimport batteryEnphaseImg from '../../images/Enphase Encharge 10.png';\nimport batteryTeslaImg from '../../images/Tesla - Powerwall 2.png';\nimport batteryNoneImg from '../../images/battery_none.png';\n\n\nfunction UtilityRate({ utilityData }) {\n  if(!utilityData.kWh_year){\n    return (\n      <span><Spinner animation=\"border\" size=\"sm\" /></span>\n    );\n  }\n\n  return (\n    <span className=\"kwh-value\">{utilityData.kWh_year.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} kWh</span>\n  );\n}\n\nclass SetYourPanelsPage extends React.Component {\n    constructor(props) {\n      super(props);\n      this.props = props;\n\n      this.changeWindowSizeState = props.changeWindowSize;\n    }\n\n    componentWillMount(){\n      const changeWindowSizeState = () => {\n        const width = $(window).width();\n        const height = $(window).height();\n        this.changeWindowSizeState(width, height);\n      }\n\n      changeWindowSizeState();\n\n      const _this = this;\n      $(window).on('resize', function(){\n        changeWindowSizeState();\n      });\n    }\n\n    componentDidMount(){\n      const urlParams = new URLSearchParams(window.location.search);\n      const addressQuery = urlParams.get('address');\n      if(addressQuery){\n        this.props.geocodeAddress({ address: addressQuery });\n      } else {\n        this.props.setStepMode({ mode: MODES.PIN.CHANGE.id, stepIndex: 0 });\n      }\n      this.props.getConstantData();\n    }\n\n    arraySum(array){\n      let sum = 0;\n        _.map(array, (val) => { sum = sum + val; });\n      return sum;\n    }\n\n    render() {\n      let currentStep = {};\n      const stepsList = this.props.stepsList;\n      if(this.props.currentStep !== null){\n        currentStep = {\n          ...stepsList[this.props.currentStep],\n          index: this.props.currentStep,\n        };\n      }\n\n        return (\n          <>\n            <MapBox mapboxApiAccessToken={ MAPBOX.API_TOKEN } />\n            {this.props.currentStep !== 0 &&\n              <div className={'back-button-wrapper'}>\n                <Button size=\"sm\" onClick={() => {\n                  this.props.setActiveStep(this.props.currentStep - 1, { isFinished: false });\n                  if(this.props.currentStep - 1 === 5){\n                    this.props.setStepMode({ mode: MODES.DRAW_TOOL.EDIT.id, stepIndex: 5 });\n                  }\n                }}>Back</Button>\n              </div>\n            }\n            {this.props.helpMessage &&\n              <ModalComponent isOpen={true} titleText={this.props.helpMessage.title}>\n                <div className=\"modal-conent error-message\">\n                  <p>{this.props.helpMessage.message}</p>\n                  <Button onClick={() => this.props.setHelpMessage(null)}>{this.props.helpMessage.buttonText ? this.props.helpMessage.buttonText : \"NEXT\"}</Button>\n                </div>\n              </ModalComponent>\n            }\n            {(this.props.errorMessage !== null) &&\n              <ModalComponent isOpen={true} titleText={\"Error: \" + this.props.errorMessage.error}>\n                <div className=\"modal-conent error-message\">\n                  <p>{this.props.errorMessage.message}</p>\n                  <Button onClick={this.props.errorConfirm}>NEXT</Button>\n                </div>\n              </ModalComponent>\n            }\n            {stepsList[5].isActive && stepsList[5].data.pvwatts && Object.keys(stepsList[5].data.pvwatts).length > 0 &&\n              <CircleChart produced={this.arraySum(_.map(stepsList[5].data.pvwatts, (pvwatts) => { return pvwatts.panels_kWh; }))} needed={stepsList[1].data.kWh_year} isLoading={stepsList[5].data.isPanelsDataLoading} />\n            }\n            {stepsList[5].isActive && stepsList[5].params.directionIsSelected === true &&\n              <div className={'sp-options-wrapper'}>\n                <Form>\n                  <OverlayTrigger\n                    show={stepsList[5].data.panelsData === null}\n                    placement={'right'}\n                    overlay={\n                      <Popover>\n                        <Popover.Content>\n                          Select your brand of panels!\n                        </Popover.Content>\n                      </Popover>\n                    }\n                  >\n                    <Form.Group controlId=\"redactorForm.PanelsType\">\n                      <DropdownButton className=\"dropdown-basic-button\" title={stepsList[5].data.panelsData ? stepsList[5].data.panelsData.name : \"Panels type\"}>\n                        {_.map(this.props.constants.PANELS, (panel, key) => {\n                          return (\n                            <Dropdown.Item key={key} active={_.isEqual(stepsList[5].data.panelsData, panel)} onClick={(e) => {\n                              this.props.setStepData({ stepIndex: 5, data: { panelsData: panel } });\n                              this.props.addLeadData({ 'PanelsType': panel.name });\n                              //this.props.setStepParams({ params: { selectedFeatureIndex: null }, stepIndex: 5 });\n                              this.props.setStepMode({ mode: \"EDIT_PANELS\", stepIndex: 5 });\n                              this.props.setHelpMessage({ title: \"remove panels\", message: \"You can remove unnecessary panels by click.\" });\n                            }} >{panel.name}</Dropdown.Item>\n                          );\n                        })}\n                      </DropdownButton>\n                    </Form.Group>\n                  </OverlayTrigger>\n                  {stepsList[5].data.panelsData !== null &&\n                    <>\n                      <Form.Group controlId=\"redactorForm.Position\">\n                        <DropdownButton className=\"dropdown-basic-button\" title={stepsList[5].data.panelsPosition ? stepsList[5].data.panelsPosition : \"Select position\"}>\n                          <Dropdown.Item key={'Horizontal'} active={_.isEqual(stepsList[5].data.panelsPosition, 'Horizontal')} onClick={(e) => { this.props.setStepData({ stepIndex: 5, data: { panelsPosition: 'Horizontal' } }); this.props.addLeadData({ 'PanelsPosition': 'Horizontal' }); }} >Horizontal</Dropdown.Item>\n                          <Dropdown.Item key={'Vertical'} active={_.isEqual(stepsList[5].data.panelsPosition, 'Vertical')} onClick={(e) => { this.props.setStepData({ stepIndex: 5, data: { panelsPosition: 'Vertical' } }); this.props.addLeadData({ 'PanelsPosition': 'Vertical' }); }} >Vertical</Dropdown.Item>\n                      </DropdownButton>\n                      </Form.Group>\n                      <OverlayTrigger\n                        show={stepsList[5].data.inverterType === null}\n                        placement={'right'}\n                        overlay={\n                          <Popover>\n                            <Popover.Content>\n                              Select Inverter type!\n                            </Popover.Content>\n                          </Popover>\n                        }\n                      >\n                        <Form.Group controlId=\"redactorForm.InverterType\">\n                          <DropdownButton className=\"dropdown-basic-button\" title={stepsList[5].data.inverterType ? stepsList[5].data.inverterType.name : \"Inverter type\"}>\n                            {_.map(this.props.constants.INVERTERS, (inveter, key) => {\n                              return (\n                                <Dropdown.Item key={key} active={_.isEqual(stepsList[5].data.inverterType, inveter)} onClick={(e) => { this.props.setStepData({ stepIndex: 5, data: { inverterType: inveter } }); this.props.addLeadData({ 'InverterType': inveter.name }); }} >{inveter.name}</Dropdown.Item>\n                              );\n                            })}\n                          </DropdownButton>\n                        </Form.Group>\n                      </OverlayTrigger>\n                    </>\n                  }\n                </Form>\n              </div>\n            }\n            {stepsList[5].isActive &&\n              <div className={'tutorial-button-wrapper'}>\n                <Button size=\"sm\" target=\"_blank\" href=\"https://www.youtube.com/watch?v=DHqZRXMQmcI\">Video tutorial</Button>\n              </div>\n            }\n            {stepsList[0].isActive && stepsList[0].params.mode === MODES.PIN.CHANGE.id &&\n              <>\n                <div className={'map-heading-wrapper'}>\n                  <p>\n                    Set pin to your property\n                  </p>\n                </div>\n                <div className={'map-button-wrapper'}>\n                  <Button\n                    onClick={() => {\n                      this.props.setStartRegion( this.props.startRegion === START_POINTS['FL'].id ? START_POINTS['CA'].id : START_POINTS['FL'].id );\n                    }}\n                  >Go to { this.props.startRegion === START_POINTS['FL'].id ? START_POINTS['CA'].name : START_POINTS['FL'].name }</Button>\n                </div>\n              </>\n            }\n            {(stepsList[1].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={1} titleText={stepsList[1].title}>\n                <div className=\"modal-conent\">\n                  <Form>\n                    <Form.Label className=\"form-caption\">Your average bill for electricity:</Form.Label>\n                    <Form.Group controlId=\"formBasicRange\">\n                      <InputGroup className=\"mb-2 mr-sm-2\">\n                        <InputGroup.Prepend>\n                          <InputGroup.Text>$</InputGroup.Text>\n                        </InputGroup.Prepend>\n                        <FormControl\n                          type=\"number\"\n                          value={stepsList[1].data.averageBill}\n                          required={true}\n                          placeholder=\"\"\n                          onChange={(e) => {\n                            this.props.setStepData({ stepIndex: 1, data: { averageBill: +e.target.value === 0 ? null : +e.target.value } });\n                          }}\n                        />\n                      </InputGroup>\n                      {stepsList[1].data.averageBill !== null && stepsList[1].data.averageBill < 50 &&\n                        <p className=\"form-caption\" style={{ color: \"red\" }}>The average bill must be at least $50</p>\n                      }\n                    </Form.Group>\n                    <div className=\"modal-buttons-wrap\">\n                      <Button disabled={!stepsList[1].data.averageBill || (stepsList[1].data.averageBill < 50)} variant=\"primary\" type=\"submit\" onClick={() => {\n                        this.props.getUtilityRate({ coords: { lon: stepsList[0].data.longitude, lat: stepsList[0].data.latitude }, averageBill: stepsList[1].data.averageBill });\n                        this.props.addLeadData({ 'AverageBill': stepsList[1].data.averageBill });\n                        this.props.setActiveStep(2);\n                      }}>\n                        NEXT\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[2].isActive) &&\n              <ModalComponent size=\"lg\" isOpen={true} stepIndex={2} titleText={stepsList[2].title}>\n              <div className=\"modal-conent\">\n                <Form>\n                  <Form.Group>\n                    <div>\n                      <Row>\n                        <Col>\n                          <div className=\"radio-button-wrap\">\n                            <input\n                              name=\"roofMaterial\"\n                              type=\"radio\"\n                              value=\"Shingles\"\n                              id=\"roofMaterial_shingles\"\n                              className=\"form-check-input\"\n                              checked={stepsList[2].data.roofMaterial === \"Shingles\"}\n                              onChange={(e) => {\n                                if(e.target.value){\n                                  this.props.addLeadData({ 'RoofMaterial': e.target.value });\n                                  this.props.setStepData({ stepIndex: 2, data: { roofMaterial: e.target.value } });\n                                }\n                              }}\n                            />\n                            <div className=\"radio-block\">\n                              <div className=\"radio-block-inner\">\n                                <img src={roofShinglesImg} />\n                                <label htmlFor=\"roofMaterial_shingles\">.</label>\n                              </div>\n                              <label htmlFor=\"roofMaterial_shingles\">Shingles</label>\n                            </div>\n                          </div>\n                        </Col>\n                        <Col>\n                          <div className=\"radio-button-wrap\">\n                            <input\n                              name=\"roofMaterial\"\n                              type=\"radio\"\n                              value=\"Clay Terracota\"\n                              id=\"roofMaterial_clay\"\n                              className=\"form-check-input\"\n                              checked={stepsList[2].data.roofMaterial === \"Clay Terracota\"}\n                              onChange={(e) => {\n                                if(e.target.value){\n                                  this.props.addLeadData({ 'RoofMaterial': e.target.value });\n                                  this.props.setStepData({ stepIndex: 2, data: { roofMaterial: e.target.value } });\n                                }\n                              }}\n                            />\n                            <div className=\"radio-block\">\n                              <div className=\"radio-block-inner\">\n                                <img src={roofClayImg} />\n                                <label htmlFor=\"roofMaterial_clay\">.</label>\n                              </div>\n                              <label htmlFor=\"roofMaterial_clay\">Clay terracota</label>\n                            </div>\n                          </div>\n                        </Col>\n                        <Col>\n                          <div className=\"radio-button-wrap\">\n                            <input\n                              name=\"roofMaterial\"\n                              type=\"radio\"\n                              value=\"Concrete Tiles\"\n                              id=\"roofMaterial_concrete\"\n                              className=\"form-check-input\"\n                              checked={stepsList[2].data.roofMaterial === \"Concrete Tiles\"}\n                              onChange={(e) => {\n                                if(e.target.value){\n                                  this.props.addLeadData({ 'RoofMaterial': e.target.value });\n                                  this.props.setStepData({ stepIndex: 2, data: { roofMaterial: e.target.value } });\n                                }\n                              }}\n                            />\n                            <div className=\"radio-block\">\n                              <div className=\"radio-block-inner\">\n                                <img src={roofConcreteImg} />\n                                <label htmlFor=\"roofMaterial_concrete\">.</label>\n                              </div>\n                              <label htmlFor=\"roofMaterial_concrete\">Concrete tiles</label>\n                            </div>\n                          </div>\n                        </Col>\n                        <Col>\n                          <div className=\"radio-button-wrap\">\n                            <input\n                              name=\"roofMaterial\"\n                              type=\"radio\"\n                              value=\"Other\"\n                              id=\"roofMaterial_other\"\n                              className=\"form-check-input\"\n                              checked={stepsList[2].data.roofMaterial === \"Other\"}\n                              onChange={(e) => {\n                                if(e.target.value){\n                                  this.props.addLeadData({ 'RoofMaterial': e.target.value });\n                                  this.props.setStepData({ stepIndex: 2, data: { roofMaterial: e.target.value } });\n                                }\n                              }}\n                            />\n                            <div className=\"radio-block\">\n                              <div className=\"radio-block-inner\">\n                                <img src={roofOtherImg} />\n                                <label htmlFor=\"roofMaterial_other\">.</label>\n                              </div>\n                              <label htmlFor=\"roofMaterial_other\">Other</label>\n                            </div>\n                          </div>\n                        </Col>\n                      </Row>\n                    </div>\n                  </Form.Group>\n                  <div className=\"modal-buttons-wrap\">\n                    <Button disabled={!stepsList[2].data.roofMaterial} variant=\"primary\" type=\"submit\" onClick={() => this.props.setActiveStep(3)}>\n                      NEXT\n                    </Button>\n                  </div>\n                </Form>\n              </div>\n              </ModalComponent>\n            }\n            {(stepsList[3].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={3} titleText={stepsList[3].title}>\n                <div className=\"modal-conent\">\n                  <Form>\n                    <Form.Group>\n                      <div>\n                        <Row>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"roofTilt\"\n                                type=\"radio\"\n                                value=\"20\"\n                                id=\"roofTilt_Pitched\"\n                                className=\"form-check-input\"\n                                checked={stepsList[3].data.roofTilt === \"20\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'RoofTilt': \"Pitched\" });\n                                    this.props.setStepData({ stepIndex: 3, data: { roofTilt: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={roofPitchedImg} />\n                                  <label htmlFor=\"roofTilt_Pitched\">.</label>\n                                </div>\n                                <label htmlFor=\"roofTilt_Pitched\">Pitched</label>\n                              </div>\n                            </div>\n                          </Col>\n\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"roofTilt\"\n                                type=\"radio\"\n                                value=\"10\"\n                                id=\"rroofTilt_Flat\"\n                                className=\"form-check-input\"\n                                checked={stepsList[3].data.roofTilt === \"10\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'RoofTilt': \"Flat\" });\n                                    this.props.setStepData({ stepIndex: 3, data: { roofTilt: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={roofFlatImg} />\n                                  <label htmlFor=\"rroofTilt_Flat\">.</label>\n                                </div>\n                                <label htmlFor=\"rroofTilt_Flat\">Flat</label>\n                              </div>\n                            </div>\n                          </Col>\n\n                        </Row>\n                      </div>\n                    </Form.Group>\n                    <div className=\"modal-buttons-wrap\">\n                      <Button disabled={!stepsList[3].data.roofTilt} variant=\"primary\" type=\"submit\" onClick={() => this.props.setActiveStep(4)}>\n                        NEXT\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[4].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={4} titleText={stepsList[4].title} size=\"lg\">\n                <div className=\"modal-conent modal-conent--center\">\n                  <h4>You need to produce <UtilityRate utilityData={stepsList[1].data} /> to cover your annual energy consumption</h4>\n                  <div className=\"video-block\">\n                    <h3>Watch video tutorial on how to place panels</h3>\n                    <div>\n                    <iframe width=\"80%\" height=\"360px\"\n                      src=\"https://www.youtube.com/embed/DHqZRXMQmcI\">\n                    </iframe>\n                    </div>\n                  </div>\n                  <div className=\"modal-buttons-wrap\">\n                    <Button onClick={() => {\n                      this.props.setActiveStep(5);\n                      this.props.addLeadData({ 'KWhNeeded': stepsList[1].data.kWh_year });\n                      this.props.setStepMode({ mode: MODES.DRAW_TOOL.DRAW.id, stepIndex: 5 });\n                    }}>NEXT</Button>\n                  </div>\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.mode === \"EDIT_PANELS\" &&\n              <>\n                <div className={'map-heading-wrapper'}>\n                  <p>\n                    Move, edit and delete panels\n                  </p>\n                </div>\n                {this.props.stepsList[5].params.panelsIsPlaced && !this.props.stepsList[5].params.addPanelsAction &&\n                  <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { addPanelsAction: false }, stepIndex: 5 });\n                      if(this.props.stepsList[5].params.showFinishMessage === undefined){\n                        this.props.setStepParams({ params: { showFinishMessage: true }, stepIndex: 5 });\n                      }\n                      this.props.setStepMode({ mode: \"FINISH_MODE\", stepIndex: 5 });\n                    }}>SAVE</Button>\n                    <Button onClick={() => {\n                        this.props.setStepParams({ params: { addPanelsAction: true }, stepIndex: 5 });\n                      }}>ADD PANELS</Button>\n                    {this.props.stepsList[5].params.selectedPanelsIndexes && this.props.stepsList[5].params.selectedPanelsIndexes.length > 0 &&\n                      <Button onClick={() => {\n                        this.props.setStepParams({ params: { deletePanelsAction: true }, stepIndex: 5 });\n                      }}>DELETE PANELS</Button>\n                    }\n                  </div>\n                }\n                {this.props.stepsList[5].params.addPanelsAction &&\n                  <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { addPanelsAction: false }, stepIndex: 5 });\n                    }}>CANCEL</Button>\n                  </div>\n                }\n              </>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.mode === \"FINISH_MODE\" &&\n              <>\n                <div className={'map-heading-wrapper'}>\n                  <p>\n                    Delete unnecessary panels\n                  </p>\n                </div>\n                {this.props.stepsList[5].params.panelsIsPlaced &&\n                  <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: null, stepIndex: 5 });\n                      this.props.setActiveStep(6);\n                    }}>FINISH</Button>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: MODES.DRAW_TOOL.DRAW.id, stepIndex: 5 });\n                    }}>ADD AREA</Button>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: MODES.DRAW_TOOL.EDIT.id, stepIndex: 5 });\n                    }}>EDIT</Button>\n                  </div>\n                }\n              </>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.mode === MODES.DRAW_TOOL.DRAW.id &&\n              <>\n                <div className={'map-heading-wrapper'}>\n                  <p>\n                    Draw your roof on map\n                  </p>\n                </div>\n                {this.props.stepsList[5].params.panelsIsPlaced &&\n                  <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: null, stepIndex: 5 });\n                      this.props.setActiveStep(6);\n                    }}>FINISH</Button>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: MODES.DRAW_TOOL.EDIT.id, stepIndex: 5 });\n                    }}>EDIT</Button>\n                  </div>\n                }\n              </>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.mode === MODES.DRAW_TOOL.EDIT.id && stepsList[5].params.selectedFeatureIndex !== null &&\n              <>\n                <div className={'map-heading-wrapper'}>\n                  <p>\n                    Edit polygon\n                  </p>\n                </div>\n                {stepsList[5].params.directionIsSelected === true && stepsList[5].data.panelsData !== null &&\n                  <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepMode({ mode: \"EDIT_PANELS\", stepIndex: 5 });\n                    }}>NEXT</Button>\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { action: MODES.ACTION.DELETE.id }, stepIndex: 5 });\n                    }}>DELETE</Button>\n                  </div>\n                }\n              </>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.mode === MODES.DRAW_TOOL.EDIT.id && stepsList[5].params.selectedFeatureIndex === null &&\n              <div className={'map-heading-wrapper'}>\n                <p>\n                  Select polygon for editing\n                </p>\n                <div className={'map-button-wrapper'}>\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { selectedFeatureIndex: null }, stepIndex: 5 });\n                      this.props.setStepMode({ mode: MODES.DRAW_TOOL.DRAW.id, stepIndex: 5 });\n                    }}>CANCEL</Button>\n                  </div>\n              </div>\n            }\n            {(stepsList[5].isActive) && stepsList[5].params.showFinishMessage === true &&\n              <ModalComponent isOpen={true} stepIndex={6} titleText={\"\"}>\n                <div className=\"modal-conent modal-conent--center\">\n                  <h4>Are you finished or do you want to add more panels?</h4>\n                  <div className=\"buttons-block\">\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { showFinishMessage: false }, stepIndex: 5 });\n                      this.props.setActiveStep(6);\n                    }}>Finish</Button>\n                    <Button onClick={() => {\n                      this.props.setStepParams({ params: { showFinishMessage: false }, stepIndex: 5 });\n                      this.props.setStepMode({ mode: \"DRAW\", stepIndex: 5 });\n                    }}>Add Panels</Button>\n                  </div>\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[6].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={6} titleText={stepsList[6].title}>\n                <div className=\"modal-conent modal-conent--center\">\n                  <h4>Your actual usage: <span className=\"kwh-value\">{stepsList[1].data.kWh_year.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} kWh</span></h4>\n                  <h4>This design produces: <span className=\"kwh-value\">{Math.round(this.arraySum(_.map(stepsList[5].data.pvwatts, (pvwatts) => { return pvwatts.panels_kWh; }))).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")} kWh</span></h4>\n                  <div className=\"buttons-block\">\n                    <Button onClick={() => {\n                      this.props.addLeadData({ 'KWhProduced': Math.round(this.arraySum(_.map(stepsList[5].data.pvwatts, (pvwatts) => { return pvwatts.panels_kWh; }))) });\n                      this.props.setActiveStep(7);\n                    }}>Continue</Button>\n                    <Button onClick={() => {\n                      this.props.setActiveStep(5, { isFinished: false });\n                      this.props.setStepMode({ mode: \"FINISH_MODE\", stepIndex: 5 });\n                    }}>Back</Button>\n                  </div>\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[7].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={7} titleText={stepsList[7].title}>\n                <div className=\"modal-conent\">\n                  <PersonalInfoForm stepIndex={7} />\n                </div>\n              </ModalComponent>\n            }\n            {(stepsList[8].isActive) &&\n              <ModalComponent size=\"lg\" isOpen={true} stepIndex={8} titleText={stepsList[8].title}>\n                <div className=\"modal-conent\">\n                  <Form>\n                    <Form.Group>\n                      <div>\n                        <Row>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"batteryType\"\n                                type=\"radio\"\n                                value=\"LG RESU10H\"\n                                id=\"batteryType_LG\"\n                                className=\"form-check-input\"\n                                checked={stepsList[8].data.batteryType === \"LG RESU10H\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'BatteryType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 8, data: { batteryType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={batteryLGImg} />\n                                  <label htmlFor=\"batteryType_LG\">.</label>\n                                </div>\n                                <label htmlFor=\"batteryType_LG\">LG<br />RESU10H</label>\n                              </div>\n                            </div>\n                          </Col>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"batteryType\"\n                                type=\"radio\"\n                                value=\"Enphase Encharge 10\"\n                                id=\"batteryType_EE\"\n                                className=\"form-check-input\"\n                                checked={stepsList[8].data.batteryType === \"Enphase Encharge 10\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'BatteryType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 8, data: { batteryType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={batteryEnphaseImg} />\n                                  <label htmlFor=\"batteryType_EE\">.</label>\n                                </div>\n                                <label htmlFor=\"batteryType_EE\">Enphase<br />Encharge 10</label>\n                              </div>\n                            </div>\n                          </Col>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"batteryType\"\n                                type=\"radio\"\n                                value=\"Tesla - Powerwall 2\"\n                                id=\"batteryType_TESLA\"\n                                className=\"form-check-input\"\n                                checked={stepsList[8].data.batteryType === \"Tesla - Powerwall 2\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'BatteryType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 8, data: { batteryType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={batteryTeslaImg} />\n                                  <label htmlFor=\"batteryType_TESLA\">.</label>\n                                </div>\n                                <label htmlFor=\"batteryType_TESLA\">Tesla<br />Powerwall 2</label>\n                              </div>\n                            </div>\n                          </Col>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"batteryType\"\n                                type=\"radio\"\n                                value=\"don't need\"\n                                id=\"batteryType_none\"\n                                className=\"form-check-input\"\n                                checked={stepsList[8].data.batteryType === \"don't need\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'BatteryType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 8, data: { batteryType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={batteryNoneImg} />\n                                  <label htmlFor=\"batteryType_none\">.</label>\n                                </div>\n                                <label htmlFor=\"batteryType_none\">Don't need battery</label>\n                              </div>\n                            </div>\n                          </Col>\n                        </Row>\n                      </div>\n                    </Form.Group>\n                    <div className=\"modal-buttons-wrap\">\n                      <Button variant=\"primary\" onClick={() => {\n                          this.props.pushLeadCRM(this.props.leadData, stepsList[5].data.panelsData);\n                      }}>\n                        Get results\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              </ModalComponent>\n            }\n            {/*(stepsList[9].isActive) &&\n              <ModalComponent isOpen={true} stepIndex={9} titleText={stepsList[9].title}>\n                <div className=\"modal-conent\">\n                  <Form>\n                    <Form.Group>\n                      <div>\n                        <Row>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"paymentType\"\n                                type=\"radio\"\n                                value=\"cash\"\n                                id=\"paymentType_cash\"\n                                className=\"form-check-input\"\n                                checked={stepsList[9].data.paymentType === \"cash\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'PaymentType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 9, data: { paymentType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={cashImg} />\n                                  <label htmlFor=\"paymentType_cash\">.</label>\n                                </div>\n                                <label htmlFor=\"paymentType_cash\">Cash</label>\n                              </div>\n                            </div>\n                          </Col>\n                          <Col>\n                            <div className=\"radio-button-wrap\">\n                              <input\n                                name=\"paymentType\"\n                                type=\"radio\"\n                                value=\"finance\"\n                                id=\"paymentType_finance\"\n                                className=\"form-check-input\"\n                                checked={stepsList[9].data.paymentType === \"finance\"}\n                                onChange={(e) => {\n                                  if(e.target.value){\n                                    this.props.addLeadData({ 'PaymentType': e.target.value });\n                                    this.props.setStepData({ stepIndex: 9, data: { paymentType: e.target.value } });\n                                  }\n                                }}\n                              />\n                              <div className=\"radio-block\">\n                                <div className=\"radio-block-inner\">\n                                  <img src={financeImg} />\n                                  <label htmlFor=\"paymentType_finance\">.</label>\n                                </div>\n                                <label htmlFor=\"paymentType_finance\">Finance</label>\n                              </div>\n                            </div>\n                          </Col>\n                        </Row>\n                      </div>\n                    </Form.Group>\n                    <div className='modal-buttons-wrap'>\n                      <Button variant=\"primary\" onClick={() => {\n                          this.props.pushLeadCRM(this.props.leadData);\n                      }}>\n                        Get results\n                      </Button>\n                    </div>\n                  </Form>\n                </div>\n              </ModalComponent>\n              */\n            }\n          </>\n        );\n    };\n}\n\nconst mapStateToProps = state => {\n  return {\n    leadData: state.steps.leadData,\n    stepsList: state.steps.list,\n    currentStep: state.steps.currentStep,\n    errorMessage: state.steps.errorMessage,\n    helpMessage: state.steps.helpMessage,\n    startRegion: state.mapbox.startRegion,\n    constants: state.window.constants,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { changeWindowSize, setActiveStep, setStepMode, setStepData, getUtilityRate, setStepParams, addLeadData, pushLeadCRM, geocodeAddress, errorConfirm, setStartRegion, getConstantData, setHelpMessage },\n)(SetYourPanelsPage);\n\n\n\n","import React, { useRef, useEffect, useState } from \"react\";\nimport $ from 'jquery';\nimport * as turf from '@turf/turf';\nimport { connect } from \"react-redux\";\nimport ReactMapGL, { FlyToInterpolator } from 'react-map-gl';\nimport {  } from 'react-bootstrap';\nimport { MAPBOX, MODES, START_POINTS } from \"../../constants\";\nimport { mapboxViewportChange, changeWindowSize } from '../../redux/actions';\nimport DeckGL, { MapController } from 'deck.gl';\nimport { PolygonLayer } from '@deck.gl/layers';\nimport \"../../styles.css\";\nimport _ from \"lodash\";\nimport { SimpleMeshLayer } from '@deck.gl/mesh-layers';\nimport { PlaneGeometry } from '@luma.gl/engine';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport panelPatternImg from './panel.jpg';\n\nfunction ShowPanelsPage(params) {\n  const {\n    mapboxViewportChange,\n    viewport,\n    changeWindowSize\n  } = params;\n\n  const panelsGeometry = JSON.parse(localStorage.getItem('panelsGeometry'));\n  const panelsData = JSON.parse(localStorage.getItem('panelsData'));\n\n  useEffect(() => {\n    const changeWindowSizeState = () => {\n      const width = $(window).width();\n      const height = $(window).height();\n      changeWindowSize(width, height);\n    }\n\n    changeWindowSizeState();\n\n    $(window).on('resize', function(){\n      changeWindowSizeState();\n    });\n  },[]);\n\n  let _map = useRef(null);\n  let _deck = useRef(null);\n  const [mapboxReady, setMapboxReady] = useState(false);\n\n  useEffect(() => {\n    if(mapboxReady){\n      const bboxArray = turf.bbox(panelsGeometry);\n\n      const bbox = [ [bboxArray[0],bboxArray[1]], [bboxArray[2], bboxArray[3]] ];\n\n      const flyToProps = _map.current.getMap().cameraForBounds(bbox, {\n        padding: {top: 10, bottom: 10, left: 10, right: 10}\n      });\n\n      updateViewport({\n        latitude: flyToProps.center.lat,\n        longitude: flyToProps.center.lng,\n        zoom: flyToProps.zoom - 1,\n      });\n    }\n  }, [mapboxReady]);\n\n  if(!(panelsGeometry && panelsData)){\n    return null;\n  }\n\n  const updateViewport = viewport => {\n    mapboxViewportChange(viewport);\n  };\n\n  const panelsLayer = new PolygonLayer({\n    id: 'panels-layer',\n    data: panelsGeometry.features[0].geometry.coordinates,\n    _normalize: true,\n    pickable: true,\n    stroked: true,\n    filled: true,\n    getPolygon: d => {\n      return d;\n    },\n    getFillColor: d => [0, 180, 255, 0],\n    getLineColor: (d) => {\n      return [0, 180, 255, 255];\n    },\n    getLineWidth: 4,\n    lineWidthMinPixels: 1,\n    lineWidthMaxPixels: 4,\n    lineWidthScale: 0,\n    lineWidthUnits: 'pixels',\n  });\n\n  const meshLayer = new SimpleMeshLayer({\n    id: 'mesh-layer',\n    data: panelsGeometry.features[0].geometry.coordinates,\n    pickable: false,\n    getOrientation: d => {\n      const coords = d[0];\n      const line1 = turf.lineString([coords[0],coords[1]]);\n      const line2 = turf.lineString([coords[1],coords[2]]);\n      const longestSide = turf.length(line1) > turf.length(line2) ? line2 : line1;\n\n      const centerOfSide = turf.centerOfMass(longestSide);\n\n      const bearing = turf.bearing(turf.centerOfMass(turf.polygon(d)), centerOfSide);\n\n      return [0, -(bearing + 180), 0];\n    },\n    getPosition: d => {\n      return turf.center(turf.polygon(d)).geometry.coordinates;\n    },\n    getColor: [255, 255, 255],\n    getScale: d => {\n      return [1, 1, 1];\n    },\n    texture: panelPatternImg,\n    mesh: panelsData && new PlaneGeometry({\n      type: 'x,y',\n      xlen: ((panelsData.height - 10) / 1000),\n      ylen: ((panelsData.width - 110) / 1000),\n      nx: 5,\n      nz: 5,\n      offset: 0\n    })\n  });\n\n  return (\n      <ReactMapGL\n        ref={_map}\n        mapboxApiAccessToken = { MAPBOX.API_TOKEN }\n        {...viewport}\n        onLoad={() => setMapboxReady(true)}\n        onViewportChange={(viewport) => updateViewport(viewport)}\n        dragPan={false}\n        dragRotate={false}\n        scrollZoom={false}\n      >\n        <DeckGL\n          ref={ref => _deck = ref}\n          initialViewState = {{\n            ...viewport,\n          }}\n          controller={{type: MapController, dragRotate: false, dragPan: false, scrollZoom: false }}\n          layers={[\n            meshLayer,\n            panelsLayer,\n          ]}\n        />\n      </ReactMapGL>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    viewport: state.mapbox.viewport,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { mapboxViewportChange, changeWindowSize },\n)(ShowPanelsPage);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport ErrorBoundary from './ErrorBoundary';\nimport SetYourPanelsPage from './pages/SetYourPanelsPage/SetYourPanelsPage';\nimport ShowPanelsPage from './pages/ShowPanelsPage/ShowPanelsPage';\nimport {\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\n\n\nclass App extends React.Component {\n  \tconstructor(props) {\n  \t\tsuper(props);\n  \t\tthis.props = props;\n  \t}\n\n  \trender() {\n  \t\treturn (\n      <ErrorBoundary>\n  \t\t\t<div className=\"solar-panels-app\">\n          <Switch>\n            <Route exact path='/' component={SetYourPanelsPage} />\n            <Route exact path='/show-panels' component={ShowPanelsPage} />\n            <Route path='*' component={SetYourPanelsPage}>\n              <Redirect to=\"/\" />\n            </Route>\n          </Switch>\n  \t\t\t</div>\n      </ErrorBoundary>\n\t\t);\n  \t}\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  {},\n)(App);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nimport { Router } from \"react-router-dom\";\n\nimport history from './history';\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={history}>\n\t\t<App />\n    </Router>\n  </Provider>,\n  rootElement\n);\n"],"sourceRoot":""}