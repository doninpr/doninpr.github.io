(this["webpackJsonpdelivery-app"]=this["webpackJsonpdelivery-app"]||[]).push([[0],{238:function(e,t,n){},246:function(e,t){},379:function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);if(e||(e={}),!e.consumer)throw new Error("consumer option is required");if(this.consumer=e.consumer,this.nonce_length=e.nonce_length||32,this.version=e.version||"1.0",this.parameter_seperator=e.parameter_seperator||", ",this.realm=e.realm,"undefined"===typeof e.last_ampersand?this.last_ampersand=!0:this.last_ampersand=e.last_ampersand,this.signature_method=e.signature_method||"PLAINTEXT","PLAINTEXT"!=this.signature_method||e.hash_function||(e.hash_function=function(e,t){return t}),!e.hash_function)throw new Error("hash_function option is required");this.hash_function=e.hash_function,this.body_hash_function=e.body_hash_function||this.hash_function}e.exports=r,r.prototype.authorize=function(e,t){var n={oauth_consumer_key:this.consumer.key,oauth_nonce:this.getNonce(),oauth_signature_method:this.signature_method,oauth_timestamp:this.getTimeStamp(),oauth_version:this.version};return t||(t={}),void 0!==t.key&&(n.oauth_token=t.key),e.data||(e.data={}),e.includeBodyHash&&(n.oauth_body_hash=this.getBodyHash(e,t.secret)),n.oauth_signature=this.getSignature(e,t.secret,n),n},r.prototype.getSignature=function(e,t,n){return this.hash_function(this.getBaseString(e,n),this.getSigningKey(t))},r.prototype.getBodyHash=function(e,t){var n="string"===typeof e.data?e.data:JSON.stringify(e.data);if(!this.body_hash_function)throw new Error("body_hash_function option is required");return this.body_hash_function(n,this.getSigningKey(t))},r.prototype.getBaseString=function(e,t){return e.method.toUpperCase()+"&"+this.percentEncode(this.getBaseUrl(e.url))+"&"+this.percentEncode(this.getParameterString(e,t))},r.prototype.getParameterString=function(e,t){var n;n=t.oauth_body_hash?this.sortObject(this.percentEncodeData(this.mergeObject(t,this.deParamUrl(e.url)))):this.sortObject(this.percentEncodeData(this.mergeObject(t,this.mergeObject(e.data,this.deParamUrl(e.url)))));for(var r="",a=0;a<n.length;a++){var i=n[a].key,c=n[a].value;if(c&&Array.isArray(c)){c.sort();var o="";c.forEach(function(e,t){o+=i+"="+e,t<c.length&&(o+="&")}.bind(this)),r+=o}else r+=i+"="+c+"&"}return r=r.substr(0,r.length-1)},r.prototype.getSigningKey=function(e){return e=e||"",this.last_ampersand||e?this.percentEncode(this.consumer.secret)+"&"+this.percentEncode(e):this.percentEncode(this.consumer.secret)},r.prototype.getBaseUrl=function(e){return e.split("?")[0]},r.prototype.deParam=function(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var a=t[r].split("=");a[1]=a[1]||"",n[a[0]]?(Array.isArray(n[a[0]])||(n[a[0]]=[n[a[0]]]),n[a[0]].push(decodeURIComponent(a[1]))):n[a[0]]=decodeURIComponent(a[1])}return n},r.prototype.deParamUrl=function(e){var t=e.split("?");return 1===t.length?{}:this.deParam(t[1])},r.prototype.percentEncode=function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},r.prototype.percentEncodeData=function(e){var t={};for(var n in e){var r=e[n];if(r&&Array.isArray(r)){var a=[];r.forEach(function(e){a.push(this.percentEncode(e))}.bind(this)),r=a}else r=this.percentEncode(r);t[this.percentEncode(n)]=r}return t},r.prototype.toHeader=function(e){var t=this.sortObject(e),n="OAuth ";this.realm&&(n+='realm="'+this.realm+'"'+this.parameter_seperator);for(var r=0;r<t.length;r++)0===t[r].key.indexOf("oauth_")&&(n+=this.percentEncode(t[r].key)+'="'+this.percentEncode(t[r].value)+'"'+this.parameter_seperator);return{Authorization:n.substr(0,n.length-this.parameter_seperator.length)}},r.prototype.getNonce=function(){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="",n=0;n<this.nonce_length;n++)t+=e[parseInt(Math.random()*e.length,10)];return t},r.prototype.getTimeStamp=function(){return parseInt((new Date).getTime()/1e3,10)},r.prototype.mergeObject=function(e,t){t=t||{};var n=e=e||{};for(var r in t)n[r]=t[r];return n},r.prototype.sortObject=function(e){var t=Object.keys(e),n=[];t.sort();for(var r=0;r<t.length;r++){var a=t[r];n.push({key:a,value:e[a]})}return n}},411:function(e,t,n){},423:function(e,t){},425:function(e,t){},434:function(e,t){},436:function(e,t){},462:function(e,t){},463:function(e,t){},468:function(e,t){},470:function(e,t){},494:function(e,t){},575:function(e,t,n){},576:function(e,t,n){},577:function(e,t,n){},581:function(e,t,n){},969:function(e,t,n){},977:function(e,t,n){"use strict";n.r(t);var r=n(7),a=(n(411),n(2)),i=n.n(a),c=n(60),o=n.n(c),s=n(30),l=n(1015),d=n(377),u=n(378),j=n(398),b=n(396),p=(n(419),{aws_appsync_graphqlEndpoint:"https://ki6jtrwllzdhbcdhndahrqbg3m.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-nlg7izfegvgapee5mj6h352yue"}),f=n(250),h=n(253),O=n.n(h),m=n(78),g=n.n(m),y=n(66),v=n.n(y),x=n(1010),_=n.p+"static/media/Job_list.78e44d1d.csv",S=n(379),w=n.n(S),E=n(73),T=n(18),C=n.n(T),k=n(1011),I=n(389),R=n(1012),P=n(1013),F="MAPBOX_READY",D="RESIZE_WINDOW",A="MAPBOX_VIEWPORT_CHANGE",L="GET_JOBS_LIST",N="SET_FORM_DATA",M="GET_ROUTING_PROBLEM",B="GET_TOUR",z="SET_ERROR_MESSAGE",J="START_FETCH_ROUTING_PROBLEM",q="END_FETCH_ROUTING_PROBLEM",G="SET_CURRENT_TOUR",U="MOVE_TO_POINT",V="SHOW_ROUTING_PROBLEM_RESULT",H="SET_JOB_LIST_VALUE",W="SHOW_JOBS_EDITOR_MODAL",$="SHOW_PROFILE_FORM_MODAL",Z="ADD_SERVICE_PROFILE",K="EDIT_SERVICE_PROFILE",X="SET_EDIT_SERVICE_PROFILE",Y="DELETE_SERVICE_PROFILE",Q="SET_JOB_FIELD",ee="SET_LOCATION_FIELD",te="REMOVE_JOB_FIELD",ne="ADD_JOB_LIST_VALUE",re="REMOVE_JOB_LIST_VALUE",ae="SET_IS_BATCH_EDITING",ie="SET_IS_DROPDOWN_TOGGLED",ce="GET_DB_DATA",oe="GET_FILE_NAME",se=function(e){return{type:L,payload:{jobList:e}}},le=function(e){return{type:N,payload:{params:e}}},de=function(e){return{type:Q,payload:{field:e}}},ue=function(e){return{type:ae,payload:{status:e}}},je=function(e){return{type:ie,payload:{status:e}}},be=n(13),pe=n(54),fe=n(375),he=n(978),Oe=n(181),me=n.n(Oe),ge=(n(380),"pk.eyJ1IjoiZG9uaW5wciIsImEiOiJjaXVxM3E4OTkwMDAwMm9wczBnYjR4bnJoIn0.7drt92qBRl7KJ6dLg0mrww"),ye={latitude:38.483,longitude:-98.57,zoom:2,mapStyle:"mapbox://styles/doninpr/ckhmbeaw00yii19mxt3o8vm3x"},ve="us-east-2",xe="us-east-2:b391c056-19ac-4b85-b9f2-63ac9b2b212c",_e="serviceplanner-uploaded-files",Se="indexKey",we="JobsGrid",Ee={address1:{id:"address1",required:!0,name:"Address 1",descr:"",type:"text"},city:{id:"city",required:!0,name:"City",descr:"",type:"text"},state:{id:"state",required:!0,name:"Province / State",descr:"",type:"text"},zip:{id:"zip",required:!0,name:"Zip or Postal",descr:"",type:"number"}},Te={text:{id:"text",type:"text",validationRules:{regex:[/^.*$/,"Value should be a text"]}},email:{id:"email",type:"email",validationRules:{regex:[/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,8}|[0-9]{1,3})(\]?)$/,"Please enter a correct email"]}},url:{id:"url",type:"url",validationRules:{regex:[/^(http|https|ftp)\:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{1,3}(:[a-zA-Z0-9]*)?\/?([a-zA-Z0-9\-\._\?\,\'\/\\\+&amp;%\$#\=~])*[^\.\,\)\(\s]$/,"Please enter a correct URL"]}},phone:{id:"phone",type:"phone",validationRules:{regex:[/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/,"Please enter a correct Phone Number"]}},date:{id:"date",type:"date",validationRules:{date:!0,regex:[/^\d{2}\/\d{2}\/\d{4}$/,"Please enter a correct data (dd/mm/yyyy)"]}},time:{id:"time",type:"time",validationRules:{regex:[/^\d\d\:\d\d\s(A|P|a|p)(M|m)$/,"Please enter a correct time (00:00 am)"]}},number:{id:"number",type:"number",validationRules:{number:!0,regex:[/^\d*$/,"Value should be a valid number"]},sortComparer:function(e,t){return+e<+t?-1:+e>+t?1:0}},decimal:{id:"decimal",type:"decimal",validationRules:{number:!0,regex:[/^\d*(\.\d+)?$/,"Value should be a valid decimal number"]},sortComparer:function(e,t){return+e<+t?-1:+e>+t?1:0}}},Ce={id:{id:"id",required:!0,name:"Job ID",descr:"",type:"text"},type:{id:"type",required:!1,name:"Type",descr:"",type:"text"},duration:{id:"duration",required:!1,name:"Duration",descr:"",type:"number"},sheduleDate:{id:"sheduleDate",required:!1,name:"Shedule Date",descr:"",type:"date"},startTime:{id:"startTime",required:!1,name:"Start time window",descr:"",type:"time"},endTime:{id:"endTime",required:!1,name:"End time window",descr:"",type:"time"}},ke=n(53);"undefined"!==typeof BigInt&&BigInt;n(533);var Ie=n(36),Re=(n(574),n(575),n(55));n.p;var Pe=Object(s.b)((function(e){return{viewportState:e.mapbox.viewport,jobList:e.jobList.list,routingProblem:e.routingProblem.results,tours:e.routingProblem.tours,isMapboxReady:e.mapbox.isMapboxReady,currentTourId:e.mapbox.currentTourId,flyToPoint:e.mapbox.flyToPoint,serviceProfiles:e.serviceProfiles.profiles}}),{mapboxViewportChange:function(e){return{type:A,payload:{viewport:e}}},mapboxReady:function(){return{type:F,payload:{}}},setFormData:le})((function(e){var t=e.viewportState,n=e.mapboxViewportChange,i=e.mapboxReady,c=e.jobList,o=e.mapboxApiAccessToken,s=(e.setFormData,e.routingProblem,e.isMapboxReady),l=e.tours,d=e.currentTourId,u=e.flyToPoint,j=e.serviceProfiles,b=Object(a.useState)(!1),p=Object(Ie.a)(b,2),f=p[0],h=p[1],O=Object(a.useState)(null),m=Object(Ie.a)(O,2),g=m[0],y=m[1],v=Object(a.useState)(null),x=Object(Ie.a)(v,2),_=x[0],S=x[1],w=Object(a.useState)(null),E=Object(Ie.a)(w,2),T=E[0],k=E[1],I=Object(a.useState)(null),R=Object(Ie.a)(I,2),P=R[0],F=R[1],D=Object(a.useState)(null),A=Object(Ie.a)(D,2),L=A[0],N=A[1],M=Object(a.useRef)(null);Object(a.useEffect)((function(){l&&l[d];if(_&&d){var e=C.a.filter(_.features,(function(e){return e.properties.vehicleId===d}));N(pe.featureCollection(e))}else N(null)}),[d,l]),Object(a.useEffect)((function(){u&&B(pe.point([u.lng,u.lat]))}),[u]),Object(a.useEffect)((function(){L&&B(L)}),[L]),Object(a.useEffect)((function(){if(c&&c.length>0&&s){var e=J(c);null===T&&B(e),k(e)}}),[c,s]),Object(a.useEffect)((function(){j&&F(J(C.a.filter(j,{active:!0})))}),[j]),Object(a.useEffect)((function(){T&&M.current.getMap().getSource("job-list")&&M.current.getMap().getSource("job-list").setData(T)}),[T]),Object(a.useEffect)((function(){P&&M.current.getMap().getSource("service-profiles")&&M.current.getMap().getSource("service-profiles").setData(P)}),[P]),Object(a.useEffect)((function(){var e=pe.featureCollection([]);C.a.map(l,(function(t){var n=z();C.a.map(t.sections,(function(r){var a=pe.lineString(r.polyline.polyline,{id:r.id,departureTime:r.departure.time,arrivalTime:r.arrival.time,vehicleId:t.vehicleId,color:n});e.features.push(pe.flip(a))}))})),S(e)}),[l]);var B=function(e){var t=pe.bbox(e),n=[[t[0],t[1]],[t[2],t[3]]],r=M.current.getMap().cameraForBounds(n,{padding:{top:30,bottom:30,left:30,right:30}});q({transitionDuration:2e3,transitionInterpolator:new Re.a,zoom:r.zoom<17?r.zoom:17,latitude:r.center.lat,longitude:r.center.lng})},z=function(){return"#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}))},J=function(e){if(!e)return pe.featureCollection([]);var t=C.a.map(e,(function(e){return pe.point([+e.longitude,+e.latitude],e)}));return pe.featureCollection(t)},q=function(e){n(e)};return Object(r.jsxs)(Re.e,Object(be.a)(Object(be.a)({ref:M,mapboxApiAccessToken:o||ge},t),{},{width:"100%",height:"100%",onClick:function(e){var t=e.features[0];h(!1),console.log(t),t&&-1!==t.layer.id.indexOf("service-profiles")&&(y(t.properties),h(!0)),t&&-1!==t.layer.id.indexOf("job-list")&&(y(t.properties),h(!0))},onViewportChange:q,onLoad:i,children:[_&&Object(r.jsxs)(Re.d,{id:"routes",type:"geojson",data:_,children:[Object(r.jsx)(Re.b,{id:"routes--outline",type:"line",paint:{"line-color":"#000000","line-width":3,"line-opacity":L?0:1}}),Object(r.jsx)(Re.b,{id:"routes",type:"line",paint:{"line-color":["get","color"],"line-width":2,"line-opacity":L?.2:1}}),Object(r.jsx)(Re.b,{id:"routes--name",type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":2},layout:{"text-field":["get","vehicleId"],"text-size":10,"symbol-placement":"line"}})]}),L&&Object(r.jsxs)(Re.d,{id:"current-route",type:"geojson",data:L,children:[Object(r.jsx)(Re.b,{id:"current-route--outline",type:"line",paint:{"line-color":"#000000","line-width":3}}),Object(r.jsx)(Re.b,{id:"current-route",type:"line",paint:{"line-color":["get","color"],"line-width":2}})]}),T&&Object(r.jsxs)(Re.d,{id:"job-list",type:"geojson",data:T,children:[Object(r.jsx)(Re.b,{id:"job-list",type:"circle",paint:{"circle-radius":8,"circle-color":"#FFFFFF","circle-stroke-width":2,"circle-stroke-color":"#FF3900"}}),Object(r.jsx)(Re.b,{id:"job-list--id",type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":1},layout:{"text-field":["get","JobID"],"text-size":10}})]}),j&&j.length&&Object(r.jsx)(Re.d,{id:"service-profiles",type:"geojson",data:P,children:Object(r.jsx)(Re.b,{id:"service-profiles",type:"circle",paint:{"circle-radius":8,"circle-color":"#FFFFFF","circle-stroke-width":5,"circle-stroke-color":"#078600"}})}),f&&g&&Object(r.jsx)(Re.c,{latitude:+g.latitude,longitude:+g.longitude,closeButton:!0,closeOnClick:!1,onClose:function(){return h(!1)},anchor:"top",children:Object(r.jsx)("div",{children:C.a.map(g,(function(e,t){return Object(r.jsxs)("p",{children:[Object(r.jsxs)("b",{children:[t,":"]})," ",String(e)]},t)}))})})]}))}));var Fe=function(e){Object(E.a)(e);var t=Object(s.d)((function(e){return e.jobList.db})),n=Object(s.d)((function(e){return e.jobList.fileName})),i=Object(s.c)();return Object(a.useEffect)((function(){setInterval((function(){(function(e){var t=e.file_name;return fe.a.graphql(Object(he.b)("\n  query ListServiceplannerRows(\n    $filter: TableServiceplannerRowsFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listServiceplannerRows(\n      filter: $filter\n      limit: $limit\n      nextToken: $nextToken\n    ) {\n      items {\n        data\n        file_name\n        row_index\n      }\n      nextToken\n    }\n  }\n",{filter:{file_name:{eq:t}},limit:1e8}))})({file_name:n}).then((function(e){var t=e.data.listServiceplannerRows.items.map((function(e){return JSON.parse(e.data)}));console.log(t),i(function(e){return{type:ce,payload:{data:e}}}(t))}))}),1500)}),[]),Object(r.jsx)(x.a,{children:Object(r.jsx)(k.a,{children:Object(r.jsxs)(I.a,{children:[!t.length&&Object(r.jsx)(R.a,{animation:"border"}),!!t.length&&Object(r.jsxs)(P.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object.keys(t[0]).map((function(e){if("geocode"!==e)return Object(r.jsx)("td",{children:e},e)})),Object(r.jsx)("td",{children:"geocode"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return Object(r.jsxs)("tr",{className:"error"===e.geocode?"error":"",children:[C.a.map(e,(function(e,t){if("geocode"!==t)return Object(r.jsx)("td",{children:e},t)})),Object(r.jsxs)("td",{children:[void 0===e.geocode&&Object(r.jsx)(R.a,{animation:"border",size:"sm"}),void 0!==e.geocode&&e.geocode]})]},t)}))})]})]})})})},De=(n(576),n(238),n(390)),Ae={upload:"/upload",import:"/import",geocode:"/geocode",map:"/map"},Le=n(1024);var Ne=function(e){var t=e.isOpen,n=void 0!==t&&t,i=e.size,c=e.onHide,o=e.titleText,s=void 0===o?"":o,l=e.dialogClassName,d=e.children,u=Object(a.useState)(n),j=Object(Ie.a)(u,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){p(n)}),[n]),Object(r.jsx)("div",{children:Object(r.jsxs)(Le.a,{show:b,"aria-labelledby":"contained-modal-title-vcenter",size:i,dialogClassName:l,centered:!0,onHide:function(){c(),p(!1)},backdrop:"static",keyboard:!1,children:[Object(r.jsx)(Le.a.Header,{closeButton:!0,children:Object(r.jsx)(Le.a.Title,{children:s})}),Object(r.jsx)(Le.a.Body,{children:d})]})})},Me=n(1026),Be=(n(577),n(1014)),ze=n(395);function Je(e){var t=e.selectedItem,n=e.selectedItems,a=e.noneItemText,i=e.items,c=e.onClick,o=e.style,s=e.disabled,l=e.onToggle,d=void 0===l?function(){}:l,u=function(e){var t=e.target,n="true"===t.dataset.active?void 0:t.dataset.value;c(n)};return Object(r.jsxs)(Be.a,{disabled:s,onToggle:function(e,t,n){d({isOpen:e,event:t,metadata:n})},variant:t?"primary":"secondary",title:t||a,children:[t&&Object(r.jsx)(ze.a.Item,{style:o,onClick:u,children:Object(r.jsx)("span",{className:"font-italic text-secondary",children:"None"})},"undefined"),i.length>0&&C.a.map(i,(function(e,a){return Object(r.jsx)(ze.a.Item,{style:o,active:t&&e===t,disabled:!(t&&e===t)&&void 0!==n.find((function(t){return e===t})),"data-value":e,"data-active":t&&e===t,onClick:u,children:e},a)})),!i.length&&Object(r.jsx)(ze.a.Header,{children:"No available fields"})]})}var qe=n.p+"static/media/trash.21051786.svg";var Ge=function(e){var t=e.onSubmit,n=e.onCancel,i=Object(s.d)((function(e){return e.jobList.list})),c=Object(s.d)((function(e){return e.jobList.jobFields})),o=Object(s.d)((function(e){return e.jobList.locationFields})),l=Object(s.c)(),d=Object(a.useState)([]),u=Object(Ie.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)(""),f=Object(Ie.a)(p,2),h=f[0],O=f[1],m=Object(a.useState)([]),g=Object(Ie.a)(m,2),y=g[0],v=g[1];return Object(a.useEffect)((function(){i&&i.length&&b(C.a.filter(Object.keys(i[0]),(function(e){return e!==Se})))}),[i]),Object(a.useEffect)((function(){if(i&&o&&c){var e=C.a.map(o,(function(e){return e.key})),t=C.a.map(c,(function(e){return e.key})),n=[].concat(Object(ke.a)(e),Object(ke.a)(t));v(n.filter((function(e){return void 0!==e})))}}),[i,o,c]),Object(r.jsxs)("div",{className:"csv-details-form-wrapper",children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsxs)("div",{className:"csv-details-form_header",children:[Object(r.jsx)("div",{className:"step-marker",children:"2"}),Object(r.jsx)("div",{children:"Job Details"})]})})}),Object(r.jsx)(k.a,{className:"csv-details-form_container",children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)("div",{className:"vertical-line"}),Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)(k.a,{children:Object(r.jsxs)(I.a,{className:"csv-details-form",children:[C.a.map(c,(function(e,t){return Object(r.jsxs)(k.a,{noGutters:!0,style:{margin:"5px 0 5px 0"},children:[Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsxs)("p",{className:e.required?"hint-required":"",style:{margin:"5px 10px 5px 0",textAlign:"right"},children:[e.custom&&Object(r.jsx)("img",{src:qe,width:"13",className:"delete-icon",onClick:function(){var t;l((t=e.id,{type:te,payload:{id:t}}))}}),e.name,":"]})}),Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsx)(Je,{noneItemText:"Select column",onToggle:function(e){var t=e.isOpen;l(je(t))},selectedItem:e.key,selectedItems:y,items:j,onClick:function(t){l(de(Object(be.a)(Object(be.a)({},e),{},{key:t})))}},t)})]},t)})),Object(r.jsxs)(k.a,{noGutters:!0,style:{margin:"5px 0 5px 0"},children:[Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsx)(Me.a.Control,{style:{width:"95%"},type:"text",placeholder:"Custom Attribute",value:h,onChange:function(e){return e.target.value.length<=15&&O(e.target.value)}})}),Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsx)(Je,{noneItemText:"Select type",disabled:!(h.length>0),items:Object.keys(Te),selectedItems:y,onClick:function(e){l(de({id:"custom_ ".concat(h),name:h,descr:null,type:e})),O("")}},"custom")})]},"custom")]})}),Object(r.jsxs)(k.a,{className:"csv-details-form_buttons",children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,onClick:t,disabled:!!C.a.find(c,(function(e){return!!e.required&&void 0===e.key})),children:"IMPORT"})}),Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,variant:"link",onClick:n,children:"CANCEL"})})]})]})]})})]})};var Ue=function(e){var t=e.onSubmit,n=e.onCancel,i=Object(s.d)((function(e){return e.jobList.list})),c=Object(s.d)((function(e){return e.jobList.jobFields})),o=Object(s.d)((function(e){return e.jobList.locationFields})),l=Object(s.c)(),d=Object(a.useState)([]),u=Object(Ie.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)([]),f=Object(Ie.a)(p,2),h=f[0],O=f[1];return Object(a.useEffect)((function(){i&&i.length&&b(C.a.filter(Object.keys(i[0]),(function(e){return e!==Se})))}),[i]),Object(a.useEffect)((function(){if(i&&o&&c){var e=C.a.map(o,(function(e){return e.key})),t=C.a.map(c,(function(e){return e.key})),n=[].concat(Object(ke.a)(e),Object(ke.a)(t));O(n.filter((function(e){return void 0!==e})))}}),[i,o,c]),Object(r.jsxs)("div",{className:"csv-details-form-wrapper",children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsxs)("div",{className:"csv-details-form_header",children:[Object(r.jsx)("div",{className:"step-marker",children:"1"}),Object(r.jsx)("div",{children:"Location Details"})]})})}),Object(r.jsx)(k.a,{className:"csv-details-form_container",children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)("div",{className:"vertical-line"}),Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{className:"csv-details-form",children:C.a.map(o,(function(e,t){return Object(r.jsxs)(k.a,{noGutters:!0,style:{margin:"5px 0 5px 0"},children:[Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsxs)("p",{className:e.required?"hint-required":"",style:{margin:"5px 10px 5px 0",textAlign:"right"},children:[e.name,":"]})}),Object(r.jsx)(I.a,{sm:"6",children:Object(r.jsx)(Je,{noneItemText:"Select column",onToggle:function(e){var t=e.isOpen;l(je(t))},selectedItems:h,selectedItem:e.key,items:j,onClick:function(t){l(function(e){return{type:ee,payload:{field:e}}}(Object(be.a)(Object(be.a)({},e),{},{key:t})))}},t)})]},t)}))})}),Object(r.jsxs)(k.a,{className:"csv-details-form_buttons",children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,onClick:t,disabled:!!C.a.find(o,(function(e){return!!e.required&&void 0===e.key})),children:"CONTINUE"})}),Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,variant:"link",onClick:n,children:"CANCEL"})})]})]})]})})]})};var Ve=function(e){Object(E.a)(e);var t=Object(l.e)(),n=Object(s.d)((function(e){return e.jobList.locationFields})),i=Object(s.d)((function(e){return e.jobList.fileName})),c=Object(a.useState)(0),o=Object(Ie.a)(c,2),d=o[0],u=o[1],j=Object(a.useState)(!1),b=Object(Ie.a)(j,2),p=b[0],f=b[1],h=Object(a.useState)(!1),O=Object(Ie.a)(h,2),m=O[0],g=O[1],y=Object(s.d)((function(e){return e.jobList.isBatchEditing})),v=Object(s.d)((function(e){return e.jobList.isDropdownToggled}));Object(a.useEffect)((function(){y&&v&&setIsModalOpen(!0)}),[y,v]);var x=function(){return g(!0)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k.a,{style:{overflowY:"auto",height:"100vh"},children:Object(r.jsxs)(I.a,{children:[d>0&&Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{variant:"link",onClick:function(){return u((function(e){return e-1}))},children:"\u2190 BACK"})})}),0===d&&Object(r.jsx)(Ue,{onSubmit:function(){var e={job:{},location:{"Address 1":C.a.find(n,(function(e){return"Address 1"===e.name})).key,City:C.a.find(n,(function(e){return"City"===e.name})).key,"Zip or Postal":C.a.find(n,(function(e){return"Zip or Postal"===e.name})).key,"Province / State":C.a.find(n,(function(e){return"Province / State"===e.name})).key}};console.log(e),function(e){var t=e.file_name,n=e.fields;return fe.a.graphql(Object(he.b)("\n  mutation UpdateServiceplannerFilesData(\n    $input: UpdateServiceplannerFilesDataInput!\n  ) {\n    updateServiceplannerFilesData(input: $input) {\n      fields\n      file_name\n    }\n  }\n",{input:{file_name:t,fields:JSON.stringify(n)}}))}({file_name:i,fields:e}).then((function(e){console.log(e),t.push(Ae.geocode)}))},onCancel:x}),1===d&&Object(r.jsx)(Ge,{onSubmit:function(){t.push(Ae.geocode)},onCancel:x})]})}),Object(r.jsxs)(Ne,{isOpen:p,onHide:function(){return f(!1)},titleText:"Warning: unsaved data",children:[Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{className:"text-center mb-3",children:Object(r.jsx)("h5",{children:"Please, save or cancel changes in grid"})})}),Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,variant:"secondary",onClick:function(){setIsModalOpen(!1)},children:"Got it"})})})]}),Object(r.jsxs)(Ne,{isOpen:m,onHide:function(){return g(!1)},titleText:"Warning:",children:[Object(r.jsx)(k.a,{children:Object(r.jsxs)(I.a,{className:"text-center mb-3",children:[Object(r.jsx)("h5",{children:"Are you sure you want to close the editor?"}),Object(r.jsx)("h5",{children:"\u0421hanges will not be saved."})]})}),Object(r.jsxs)(k.a,{children:[Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,variant:"danger",onClick:function(){g(!1),t.push(Ae.upload)},children:"Yes"})}),Object(r.jsx)(I.a,{children:Object(r.jsx)(De.a,{block:!0,variant:"secondary",onClick:function(){g(!1)},children:"Cancel"})})]})]})]})},He=(n(581),n(582),n(1016)),We=n(77),$e=n(210),Ze=n(209),Ke=n(1027),Xe=n(1025),Ye=n(1030),Qe=n(259),et=n(1031),tt=n(1028),nt=n(1020),rt=n(1021),at=n(1022);function it(e){Object(E.a)(e);var t=Object(a.useRef)(),n=Object(s.c)(),i=Object(a.useState)(!1),c=Object(Ie.a)(i,2),o=c[0],l=c[1],d=Object(s.d)((function(e){return e.jobList.list})),u=Object(s.d)((function(e){return e.jobList.locationFields})),j=Object(s.d)((function(e){return e.jobList.jobFields})),b=[].concat(Object(ke.a)(Object.values(u)),Object(ke.a)(Object.values(j))),p=function(e,t){if(void 0===e)return!0;var n=e.field,r=e.validationRules,a=!0;if(n&&r){var i=b.find((function(e){return e.key===n}));if(i){var c=!i.required||t[i.key]&&t[i.key].length>0;r.regex[0].test(String(t[i.key]))&&c||(a=!1)}}return a},f=function(e){if(e&&e.key)return Object(be.a)(Object(be.a)({},Te[e.type].validationRules),{},{required:!0===e.required})},h=function(e){if(e&&e.key&&void 0!==Te[e.type].sortComparer)return function(n,r,a,i){var c=t.current.getColumnByField(e.key),o=Te[e.type].sortComparer(n,r,a,i);return"Descending"===c.sortDirection?o:-1*o}},O=function(e){if(e)return b.find((function(t){return t.key===e}))};if(Object(a.useEffect)((function(){!function(){var e=JSON.parse(window.localStorage.getItem("gridJobsGrid"));e&&(delete e.columns,window.localStorage.setItem("gridJobsGrid",JSON.stringify(e)))}()}),[]),Object(a.useEffect)((function(){o&&t.current&&(C.a.map(t.current.columns,(function(e){var t=O(e.field);e.validationRules=f(t),e.sortComparer=h(t)})),t.current.componentRefresh(),t.current.refreshHeader(),t.current.clearFiltering(),t.current.clearSorting())}),[j,u]),Object(a.useEffect)((function(){o&&t.current&&(t.current.autoFitColumns(),setTimeout((function(){return t.current.componentRefresh()}),250))}),[o]),Object(a.useEffect)((function(){d&&(t.current.dataSource=Object(ke.a)(d),t.current.refresh())}),[d]),!d)return null;var m=Object.keys(d[0]),g=function(e){var t=e.Custom;return 0===t?null:Object(r.jsxs)("span",{className:"header-error",children:["Errors: ",t]})},y=function(e){var n=[];return t.current.props.dataSource.map((function(t){p(e,t)||n.push(t[e.field])})),n};return Object(r.jsxs)(He.a,{id:we,ref:t,created:function(){return l(!0)},actionBegin:function(e){var t=e.requestType,n=e.currentPage;"paging"===t&&function(e){var t=JSON.parse(window.localStorage.getItem("gridJobsGrid"));t&&(t.pageSettings.currentPage=e,window.localStorage.setItem("gridJobsGrid",JSON.stringify(t)))}(n)},batchAdd:function(){return n(ue(!0))},batchDelete:function(){return n(ue(!0))},batchCancel:function(){return n(ue(!1))},beforeBatchSave:function(e){var t=e.batchChanges;C.a.map(t.addedRecords,(function(e){n(function(e){return{type:ne,payload:{params:e}}}(e))})),C.a.map(t.changedRecords,(function(e){n(function(e,t){return{type:H,payload:{params:e,index:t}}}(e,e.indexKey))})),C.a.map(t.deletedRecords,(function(e){var t;n((t=e.indexKey,{type:re,payload:{index:t}}))})),n(ue(!1))},dataBound:function(){t.current.enableToolbarItems(["clearFilters"],Object.keys(t.current.filterModule.actualPredicate).length>0)},cellSave:function(e){e.previousValue!==e.value&&n(ue(!0))},pageSettings:{pageSize:30,pageSizes:[30,60,100]},dataSource:Object(ke.a)(d),enablePersistence:!0,allowFiltering:!0,allowSorting:!0,height:"100%",allowPaging:!0,filterSettings:{type:"Excel"},toolbar:["Add","Delete","Update","Cancel",{text:"Clear Filters",tooltipText:"Clear Filters",prefixIcon:"fltr-can2",id:"clearFilters",disabled:!0},"Search"],toolbarClick:function(e){"clearFilters"===e.item.id&&t.current.clearFiltering()},editSettings:{allowEditing:!0,allowAdding:!0,allowDeleting:!0,mode:"Batch"},columnMenuItems:[{text:"Filter by errors",id:"errorsToTop"},"SortAscending","SortDescending","AutoFit","Filter"],columnMenuOpen:function(e){var t=e.items,n=e.column,r=y(n).length;t.find((function(e){return"errorsToTop"===e.id})).hide=0===r},columnMenuClick:function(e){var n=e.item,r=e.column;"errorsToTop"===n.id&&(t.current.clearFiltering(),t.current.filterByColumn(r.field,"equal",y(r)))},allowResizing:!0,allowTextWrap:!1,showColumnMenu:!0,queryCellInfo:function(e){var t=e.column,n=e.data,r=e.cell;t&&(p(t,n)||r.classList.add("cell-error"))},children:[Object(r.jsx)(We.c,{services:[$e.a,Ze.a,Ke.a,Xe.a,Ye.a,Qe.a,et.a,tt.a]}),Object(r.jsxs)(nt.b,{children:[Object(r.jsx)(nt.a,{type:"checkbox"}),C.a.map(m,(function(e){return Object(r.jsx)(nt.a,{field:e,validationRules:f(O(e)),sortComparer:h(O(e)),lockColumn:e===Se,visible:e!==Se},e)}))]}),Object(r.jsx)(rt.b,{children:Object(r.jsx)(rt.a,{children:Object(r.jsx)(at.b,{children:C.a.map(m,(function(e){return Object(r.jsx)(at.a,{field:e,type:"Custom",footerTemplate:g,customAggregate:(n=e,function(){return y(t.current.getColumnByField(n)).length})},e);var n}))})})})]})}var ct=function(e){return Object(E.a)(e),Object(r.jsx)("div",{children:Object(r.jsxs)(k.a,{children:[Object(r.jsx)(I.a,{sm:6,md:5,lg:4,children:Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(Ve,{})})})}),Object(r.jsx)(I.a,{sm:6,md:7,lg:8,children:Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{className:"table-container",children:Object(r.jsx)(it,{})})})})]})})};var ot=function(e){return Object(E.a)(e),Object(r.jsx)(x.a,{children:Object(r.jsxs)(k.a,{children:[Object(r.jsx)(I.a,{xs:3,children:Object(r.jsx)("p",{children:"test"})}),Object(r.jsx)(I.a,{xs:9,style:{width:"100%",height:"100vh"},children:Object(r.jsx)(Pe,{})})]})})},st=n(98),lt=n.n(st);lt.a.config.region=ve,lt.a.config.credentials=new lt.a.CognitoIdentityCredentials({IdentityPoolId:xe}),lt.a.config.apiVersions={dynamodbstreams:"2012-08-10",s3:"2006-03-01"};var dt=new lt.a.S3({params:{Bucket:_e}}),ut=(new lt.a.DynamoDBStreams({region:ve,credentials:new lt.a.CognitoIdentityCredentials({IdentityPoolId:xe})}),new lt.a.DynamoDB.DocumentClient,n(969),n(1023)),jt=n(397);var bt=function(e){var t=e.onDropAccepted,n=Object(a.useRef)(null),i=Object(a.useState)(null),c=Object(Ie.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(null),d=Object(Ie.a)(l,2),u=d[0],j=d[1];return Object(r.jsxs)("div",{ref:n,className:"dropzone-container",children:[Object(r.jsx)(jt.a,{accept:".csv",maxFiles:1,multiple:!1,onDropAccepted:function(e){g()(n.current).find(".dropzone").removeClass("dragged"),g()(n.current).find(".dropzone").addClass("success"),s(null),j(e[0]),t(e[0])},onDropRejected:function(e){g()(n.current).find(".dropzone").removeClass("dragged"),g()(n.current).find(".dropzone").addClass("error"),s(C.a.map(e[0].errors,(function(e,t){var n=e.message;return Object(r.jsx)(ut.a,{variant:"danger",children:n},t)})))},onDragLeave:function(e){return g()(e.target).removeClass("dragged")},onDragEnter:function(e){return g()(e.target).addClass("dragged")},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(r.jsxs)("div",Object(be.a)(Object(be.a)({},t({className:"dropzone"})),{},{children:[Object(r.jsx)("input",Object(be.a)({},n())),!u&&Object(r.jsx)("p",{children:"Drag 'n' drop .CSV file here, or click to select files"}),u&&Object(r.jsxs)("p",{className:"success-message",children:["Selected file: ",Object(r.jsx)("span",{children:u.name})]})]}))}}),o&&Object(r.jsx)("div",{className:"error-message",children:o})]})},pt=n(392);var ft=function(e){Object(E.a)(e);var t=Object(s.c)(),n=Object(l.e)();return Object(r.jsx)(x.a,{children:Object(r.jsx)(k.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(bt,{onDropAccepted:function(e){window.localStorage.removeItem("gridJobsGrid"),function(e){return new Promise((function(t,n){if(e){var r=Date.now()+" - "+e.name;dt.upload({Key:r,Body:e,ACL:"public-read"},{},(function(e,r){e?n(e):t(r)}))}else n(Error("Invalid file"))}))}(e).then((function(e){console.log(e),t(function(e){return{type:oe,payload:{file:e}}}(e.Key))})),e.text().then((function(e){try{var r=pt.detect(e),a=me.a.toObjects(e,{separator:r});a=(a=a.filter((function(e){return Object.values(e).join("").length>0}))).map((function(e){return delete e[""],e})),t(se(a)),n.push(Ae.import)}catch(i){console.log(i)}}))}})})})})},ht=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).props=e,r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=g()(window).width(),n=g()(window).height();e.props.changeWindowSize(t,n)};if(t(),g()(window).on("resize",(function(){t()})),this.props.fetchJobsListCSV(_),f.default.configure(p),!v.a.get("bearer_token")){var n=new w.a({consumer:{key:"vqiFCvO6q-k2d_hWaLrZEg",secret:"qGafumAC3TJm9u6hziigM3uU3bBOY_WGPAX85pOmwumfJzqzDo7RSPLeaGM6-ZKBO_7f9zM_y9IvJJb8vrpd6Q"},signature_method:"HMAC-SHA256",hash_function:function(e,t){return O.a.HmacSHA256(e,t).toString(O.a.enc.Base64)}}),r={url:"https://account.api.here.com/oauth2/token",method:"POST",data:{grant_type:"client_credentials"}};g.a.ajax({url:r.url,type:r.method,headers:n.toHeader(n.authorize(r)),data:r.data}).done((function(e){v.a.set("bearer_token",e.access_token,{expires:1})}))}}},{key:"render",value:function(){return Object(r.jsx)(x.a,{fluid:!0,className:"delivery-app",children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{exact:!0,path:Ae.upload,component:ft}),Object(r.jsx)(l.b,{exact:!0,path:Ae.import,component:ct}),Object(r.jsx)(l.b,{exact:!0,path:Ae.map,component:ot}),Object(r.jsx)(l.b,{exact:!0,path:Ae.geocode,component:Fe}),Object(r.jsx)(l.b,{exact:!0,path:"/",children:Object(r.jsx)(l.a,{to:Ae.upload})})]})})}}]),n}(i.a.Component),Ot=Object(s.b)((function(e){return{errorMessage:e.window.errorMessage,isRoutingProblemResultShown:e.window.isRoutingProblemResultShown,isJobsEditorModalShown:e.window.isJobsEditorModalShown,isProfileFormModalShown:e.window.isProfileFormModalShown,editServiceProfile:e.serviceProfiles.editServiceProfile,timezone:e.formData.timezone}}),{changeWindowSize:function(e,t){return{type:D,payload:{width:e,height:t}}},fetchJobsListCSV:function(e){return function(t){fetch(e).then((function(e){return e.text()})).then((function(e){t(se(me.a.toObjects(e,{separator:","})))}))}}})(ht),mt=n(90),gt=Object(mt.a)({}),yt=n(101),vt=n(394),xt={startDate:null,timezone:"Z"},_t=n(95),St={fileName:null,isBatchEditing:!1,isDropdownToggled:!1,list:null,db:[],locationFields:Ee,jobFields:Ce},wt={isMapboxReady:!1,currentTourId:null,flyToPoint:null,viewport:Object(be.a)({},ye)},Et={isLoading:!1,results:null,tours:null},Tt={editServiceProfile:null,profiles:[{name:"Plumber",skills:"skill1,skill2,skill3",longitude:-93.4376969129225,latitude:44.93210342318257,timeWindow:["06:00","21:00"],vehicleCount:3,vehicleType:1,active:!0,mustGoBack:!0,fixedCost:22,distanceCost:1,timeCost:2,capacity:20},{name:"Electrician",skills:"skill1,skill2,skill3",longitude:-93.41010833483658,latitude:44.896012096005286,timeWindow:["06:00","21:00"],vehicleCount:5,vehicleType:3,active:!0,mustGoBack:!0,fixedCost:22,distanceCost:1,timeCost:1,capacity:15}]},Ct={width:0,height:0,errorMessage:null,isRoutingProblemResultShown:!1,isJobsEditorModalShown:!1,isProfileFormModalShown:!1},kt=Object(yt.c)({mapbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(be.a)(Object(be.a)({},e),{},{isMapboxReady:!0});case D:return Object(be.a)(Object(be.a)({},e),{},{viewport:Object(be.a)(Object(be.a)({},e.viewport),{},{width:t.payload.width,height:t.payload.height})});case A:return Object(be.a)(Object(be.a)({},e),{},{viewport:Object(be.a)(Object(be.a)({},e.viewport),t.payload.viewport)});case G:return Object(be.a)(Object(be.a)({},e),{},{currentTourId:t.payload.tourId});case U:return Object(be.a)(Object(be.a)({},e),{},{flyToPoint:t.payload.coords});default:return e}},window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(be.a)(Object(be.a)({},e),{},{width:t.payload.width,height:t.payload.height});case V:return Object(be.a)(Object(be.a)({},e),{},{isRoutingProblemResultShown:t.payload.status});case M:return Object(be.a)(Object(be.a)({},e),{},{isRoutingProblemResultShown:!0});case z:return Object(be.a)(Object(be.a)({},e),{},{errorMessage:t.payload.params});case W:return Object(be.a)(Object(be.a)({},e),{},{isJobsEditorModalShown:t.payload.status});case $:return Object(be.a)(Object(be.a)({},e),{},{isProfileFormModalShown:t.payload.status});default:return e}},routingProblem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(be.a)(Object(be.a)({},e),{},{isLoading:!0,tours:null});case q:return Object(be.a)(Object(be.a)({},e),{},{isLoading:!1});case M:return Object(be.a)(Object(be.a)({},e),{},{results:t.payload.json});case B:return Object(be.a)(Object(be.a)({},e),{},{tours:Object(be.a)(Object(be.a)({},e.tours),{},Object(_t.a)({},t.payload.tour.vehicleId,t.payload.tour))});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(be.a)(Object(be.a)({},e),t.payload.params);default:return e}},jobList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(be.a)(Object(be.a)({},e),{},{db:t.payload.data});case oe:return Object(be.a)(Object(be.a)({},e),{},{fileName:t.payload.file});case L:return Object(be.a)(Object(be.a)({},e),{},{list:C.a.map(t.payload.jobList,(function(e,t){return Object(be.a)(Object(be.a)({},e),{},Object(_t.a)({},Se,t))})),locationFields:Ee,jobFields:Ce});case ne:return Object(be.a)(Object(be.a)({},e),{},{list:[Object(be.a)(Object(be.a)({},t.payload.params),{},Object(_t.a)({},Se,e.list.length))].concat(Object(ke.a)(e.list))});case re:return Object(be.a)(Object(be.a)({},e),{},{list:C.a.filter(e.list,(function(e){return e.indexKey!==t.payload.index}))});case H:return Object(be.a)(Object(be.a)({},e),{},{list:C.a.map(e.list,(function(e,n){return n===t.payload.index?Object(be.a)(Object(be.a)({},e),t.payload.params):e}))});case ee:return Object(be.a)(Object(be.a)({},e),{},{locationFields:Object(be.a)(Object(be.a)({},e.locationFields),{},Object(_t.a)({},t.payload.field.id,t.payload.field))});case Q:return Object(be.a)(Object(be.a)({},e),{},{jobFields:Object(be.a)(Object(be.a)({},e.jobFields),{},Object(_t.a)({},t.payload.field.id,t.payload.field))});case te:return Object(be.a)(Object(be.a)({},e),{},{jobFields:C.a.filter(e.jobFields,(function(e){return e.id!==t.payload.id}))});case ae:return Object(be.a)(Object(be.a)({},e),{},{isBatchEditing:t.payload.status});case ie:return Object(be.a)(Object(be.a)({},e),{},{isDropdownToggled:t.payload.status});default:return e}},serviceProfiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(be.a)(Object(be.a)({},e),{},{editServiceProfile:null,profiles:[].concat(Object(ke.a)(e.profiles),[t.payload.profile])});case K:return Object(be.a)(Object(be.a)({},e),{},{editServiceProfile:null,profiles:C.a.map(e.profiles,(function(e,n){return e.name===t.payload.name?Object(be.a)(Object(be.a)({},e),t.payload.params):e}))});case Y:return Object(be.a)(Object(be.a)({},e),{},{profiles:C.a.filter(e.profiles,(function(e){return e.name!==t.payload.profile.name}))});case X:return Object(be.a)(Object(be.a)({},e),{},{editServiceProfile:t.payload.profile});default:return e}}}),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yt.d,Rt=Object(yt.e)(kt,It(Object(yt.a)(vt.a))),Pt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1033)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(s.a,{store:Rt,children:Object(r.jsx)(l.c,{history:gt,children:Object(r.jsx)(Ot,{})})})}),document.getElementById("root")),Pt()}},[[977,1,2]]]);
//# sourceMappingURL=main.a3f27802.chunk.js.map